* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   1
*                      createsusp.cbl
* Directives File: /usr/opt/mfcobol4.0/cobol.dir
* Accepted - SHOW-DIR
* Accepted - SOURCEFORMAT"FREE"
* Accepted - SPZERO
* Accepted - TIME
* Accepted - TRUNC
* Accepted - RESEQ
* Accepted - SEQCHK
* End Of Directives File: /usr/opt/mfcobol4.0/cobol.dir
identification division.
program-id. createsusp.
author. dyad systems inc.
installation. rma.
date-written. 98/07/16.
date-compiled. 18-May-06 15:40.
security.
environment division.
input-output section.
file-control.

    copy "f002_suspend_address.slr".
* file: f002_suspend_address.slr

select suspend-address
    assign to disk "f002_suspend_address"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-addr
    record key   is suspend-addr-id.
    copy "f002_suspend_dtl.slr".
* file "f002_suspend_dtl.slr".

select suspend-dtl
    assign to disk "f002_suspend_dtl"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-dtl
    record key   is suspend-dtl-id of suspend-dtl with duplicates.
    copy "f002_suspend_hdr.slr".
* file: "f002_suspend_hdr.slr".

select suspend-hdr
    assign to disk   "f002_suspend_hdr"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-hdr
    record key   is suspend-hdr-id.

    copy "f002_suspend_desc.slr".
* file "f002_suspend_desc.slr".

select suspend-desc
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   2
*                      createsusp.cbl (/alpha/rmabill/rmabill101c/use)
    assign to disk "f002_suspend_desc"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-desc
    record key   is suspend-dtl-id of suspend-desc with duplicates.

data division.
file section.
    copy "f002_suspend_address.fd".
* file: f002_suspend_address.fd

* 98/dec/01 D.B.        - y2k

fd  suspend-address
* y2k record contains 126 characters .
      record contains 128 characters .
*mf      feedback is feedback-suspend-addr.

01  suspend-address-rec.

    05  addr-address-line-1                   pic x(25).
    05  addr-address-line-2                   pic x(25).
    05  addr-address-line-3                   pic x(25).
    05  addr-postal-code                      pic x(6).
    05  addr-surname                          pic x(9).
    05  addr-first-name                       pic x(5).
    05  addr-birth-date.
* y2k
*       10  addr-birth-yy                     pic 99.
        10  addr-birth-yy                     pic 9(4).
        10  addr-birth-mm                     pic 99.
        10  addr-birth-dd                     pic 99.
    05  addr-sex                              pic x.
    05  addr-phone-no                         pic x(10).
    05  suspend-addr-id.
        10  addr-doc-pract-nbr                pic 9(6).
        10  addr-accounting-nbr               pic x(8).

    copy "f002_suspend_dtl.fd".
* file: f002_suspend_dtl.fd

* 98/dec/01 D.B. - y2k
* 00/sep/05 B.E. - added redefine of clmdtl-consecutive-sv-dateS
* 03/oct/20 b.e. - alpha doctor nbr

fd   suspend-dtl
* y2k  record contains 89 characters .
*!       record contains 93 characters .
       record contains 92 characters .

01  suspend-dtl-rec.

    05  clmdtl-id.
*!        10  clmdtl-batch-nbr                    pic 9(9).
        10  clmdtl-batch-nbr                    pic x(8).
        10  clmdtl-claim-nbr                    pic 9(2).
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   3
*                      createsusp.cbl (/alpha/rmabill/rmabill101c/use)
        10  clmdtl-oma-cd                       pic xxxx.
        10  clmdtl-oma-suff                     pic x.
        10  clmdtl-adj-nbr                      pic 9.
    05  clmdtl-det-rec.
        10  clmdtl-rev-group-cd                 pic xxx.
        10  clmdtl-agent-cd                     pic 9.
        10  clmdtl-adj-cd                       pic x.
        10  clmdtl-nbr-serv                     pic 99.
        10  clmdtl-nbr-serv-alpha redefines clmdtl-nbr-serv pic xx.
        10  clmdtl-sv-date.
* y2k         15  clmdtl-sv-yy                    pic 99.
            15  clmdtl-sv-yy                    pic 9999.
            15  clmdtl-sv-mm                    pic 99.
            15  clmdtl-sv-dd                    pic 99.
        10  clmdtl-consec-dates.
            15  clmdtl-consecutive-sv-date  occurs 3 times.
*mf                                              pic 999.
*                                             pic x(3).
*                   (00/sep/05 B.E. added redefine )
                20  clmdtl-sv-nbr               pic 9.
                20  clmdtl-sv-day               pic xx.

        10  clmdtl-amt-tech-billed              pic s9(4)v99.
        10  clmdtl-fee-oma                      pic s9(5)v99.
        10  clmdtl-fee-oma-alpha redefines clmdtl-fee-oma pic x(7).
        10  clmdtl-fee-ohip                     pic s9(5)v99.
        10  clmdtl-fee-ohip-alpha redefines clmdtl-fee-ohip pic x(7).
* Y2k   10  clmdtl-date-period-end              pic x(6).
        10  clmdtl-date-period-end              pic x(8).
        10  clmdtl-cycle-nbr                    pic 999.
        10  clmdtl-diag-cd                      pic 999.
        10  clmdtl-diag-cd-alpha
                redefines clmdtl-diag-cd        pic xxx.
        10  clmdtl-diag-cd-local                pic 999.
        10  clmdtl-diag-cd-local-alpha
                  redefines clmdtl-diag-cd-local  pic xxx.

    05  clmdtl-status                           pic x.
    05  suspend-dtl-id.
        10  clmdtl-doc-pract-nbr                pic 9(6).
        10  clmdtl-accounting-nbr              pic x(8).

    copy "f002_suspend_hdr.fd".
* file: f002_suspend_hdr.fd

*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*  yy/mm/dd  whom  why
*  --------  ----  ---
*
*  90/sep/27 B.E.  - added redefine for clmhdr-claim-source-cd
*  98/dec/01 D.B.  - y2k
*  99/jan/15 B.E.  - correct record length, alignment cosmetics
*  99/jan/25 B.E.  - add 2bytes to reference field to allow 4 digit year
*  00/jan/06 B.A.  - add 1 byte confidential claim flag
*  00/sep/14 B.E.  - add clmhdr-nbr-suspend-desc-recs that counts the
*                    number of description records associated with hdr
*  00/sep/21 B.E.  - add clmhdr-adj-cd-sub-type to indicate "W"eb or
*                    "D"iskette source of claim
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   4
*                      createsusp.cbl (/alpha/rmabill/rmabill101c/use)
*  02/oct/24 M.C.  - there are two "clmhdr-adj-cd-sub-type" defined, substitute
*                    the second one with filler
*  03/oct/20 b.e.  - alpha doctor nbr
*
*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

fd suspend-hdr
*      record   contains 278 characters.
*     record  contains 280 characters.
*!     record  contains 281 characters.
     record  contains 279 characters.

01  suspend-hdr-rec.

    05  clmhdr-claim-id.
*!       10  clmhdr-batch-nbr                    pic 9(9).
       10  clmhdr-batch-nbr                    pic x(8).
       10  clmhdr-batch-nbr-r1 redefines clmhdr-batch-nbr.
           15  clmhdr-clinic-nbr-1-2           pic 99.
*!           15  clmhdr-doc-nbr                  pic 9(4).
           15  clmhdr-doc-nbr                  pic x(3).
           15  clmhdr-week                     pic 99.
           15  clmhdr-day                      pic 9.
       10  clmhdr-claim-nbr                    pic 9(2).
       10  clmhdr-zeroed-oma-suff-adj.
           15  clmhdr-adj-oma-cd               pic x999.
           15  clmhdr-adj-oma-suff             pic x.
           15  clmhdr-adj-adj-nbr              pic 9.
    05  clmhdr-batch-type                      pic x.
    05  clmhdr-adj-cd-sub-type                 pic x.
    05  clmhdr-claim-source-cd    redefines clmhdr-adj-cd-sub-type
                                               pic x.
    05  clmhdr-doc-nbr-ohip                    pic 9(6).
    05  clmhdr-doc-nbr-ohip-alpha redefines
        clmhdr-doc-nbr-ohip                    pic x(6).
    05  clmhdr-doc-spec-cd                     pic 9(2).
    05  clmhdr-doc-spec-cd-alpha redefines
        clmhdr-doc-spec-cd                     pic x(2).
    05  clmhdr-refer-doc-nbr                   pic 9(6).
    05  clmhdr-refer-doc-nbr-alpha redefines
        clmhdr-refer-doc-nbr                   pic x(6).
    05  clmhdr-diag-cd                         pic 9(3).
    05  clmhdr-diag-cd-alpha redefines
        clmhdr-diag-cd                         pic x(3).
    05  clmhdr-loc                             pic x999.
    05  clmhdr-hosp                            pic x.
    05  clmhdr-agent-cd                        pic x.
    05  clmhdr-adj-cd                          pic x.
    05  clmhdr-tape-submit-ind                 pic x.
    05  clmhdr-i-o-pat-ind                     pic x.
    05  clmhdr-pat-ohip-id-or-chart.
        10  clmhdr-pat-key-type                pic a.
        10  clmhdr-pat-key-data.
            15  clmhdr-pat-key-ohip            pic x(8).
            15  filler                         pic x(7).
    05  clmhdr-pat-acronym.
        10  clmhdr-pat-acronym6                pic x(6).
        10  clmhdr-pat-acronym3                pic x(3).
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   5
*                      createsusp.cbl (/alpha/rmabill/rmabill101c/use)
    05  clmhdr-reference.
        10  clmhdr-ref1                        pic x.
        10  clmhdr-ref2                        pic x.
        10  clmhdr-ref3                        pic x.
        10  clmhdr-ref4                        pic x.
        10  clmhdr-ref5                        pic x.
        10  clmhdr-ref6                        pic x.
        10  clmhdr-ref7                        pic x.
        10  clmhdr-ref8                        pic x.
        10  clmhdr-ref9                        pic x.
        10  clmhdr-ref10                       pic x.
        10  clmhdr-ref11                       pic x.
    05  clmhdr-date-admit.
        10  clmhdr-date-admit-yy               pic x(4).
        10  clmhdr-date-admit-yy-r redefines
            clmhdr-date-admit-yy.
            15 clmhdr-date-admit-yy-12         pic 99.
            15 clmhdr-date-admit-yy-34         pic 99.
        10  clmhdr-date-admit-mm               pic 99.
        10  clmhdr-date-admit-dd               pic 99.
    05  clmhdr-doc-dept                        pic 99.
    05  clmhdr-date-cash-tape-payment          pic x(8).
    05  clmhdr-direct-bills-clm-info  redefines clmhdr-date-cash-tape-payment.
        10  clmhdr-msg-nbr                     pic xx.
        10  clmhdr-reprint-flag                pic x.
        10  clmhdr-sub-nbr                     pic x.
        10  clmhdr-auto-logout                 pic x.
        10  clmhdr-fee-complex                 pic x.
        10  filler                             pic x(2).
    05  clmhdr-curr-payment                    pic s9(5)v99.
    05  clmhdr-date-period-end.
        10  clmhdr-period-end-yy               pic 9(4).
        10  clmhdr-period-end-mm               pic 99.
        10  clmhdr-period-end-dd               pic 99.
    05  clmhdr-cycle-nbr                       pic 99.
    05  clmhdr-date-sys                        pic x(8).
    05  clmhdr-amt-tech-billed                 pic s9(4)v99.
    05  clmhdr-amt-tech-paid                   pic s9(4)v99.
    05  clmhdr-tot-claim-ar-oma                pic s9(5)v99.
    05  clmhdr-tot-claim-ar-ohip               pic s9(5)v99.
    05  clmhdr-manual-tape-payments            pic s9(5)v99.
    05  clmhdr-status-ohip                     pic xx.
*!  05  clmhdr-orig-batch-id                   pic x(11).
    05  clmhdr-orig-batch-id                   pic x(10).
    05  clmhdr-status                          pic x.

*   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*            dyad  extensions to ohip standard format

    05  clmhdr-health-care-nbr                  pic x(12).
    05  clmhdr-health-care-ver                  pic x(02).
    05  clmhdr-health-care-prov                 pic x(02).
    05  clmhdr-relationship                     pic x(01).
*   for new ohip format, relationship is not used, hence manual
*   review is used here.
    05  clmhdr-manual-review redefines clmhdr-relationship   pic x(01).
    05  clmhdr-patient-surname                  pic x(09).
    05  clmhdr-subscr-initials                  pic x(03).
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   6
*                      createsusp.cbl (/alpha/rmabill/rmabill101c/use)
    05  clmhdr-wcb-claim-nbr                    pic x(09).
    05  clmhdr-wcb-accident-date              pic x(08).
    05  clmhdr-wcb-employer-name-addr         pic x(40).
    05  clmhdr-wcb-employer-postal-cd         pic x(06).

*       (00/02/08 B.A.)
    05  clmhdr-confidential-flag              pic x(1).
*       (00/sep/14 B.E.)
    05  clmhdr-nbr-suspend-desc-recs          pic 9(2).
* 2002/10/24 -- MC
*    05  clmhdr-adj-cd-sub-type               pic x(1).
    05  filler                                pic x(1).
* 2002/10/24 - end

    05  suspend-hdr-id.
        10  clmhdr-doc-pract-nbr              pic 9(6).
        10  clmhdr-accounting-nbr             pic x(8).
    copy "f002_suspend_desc.fd".
* file: f002_suspend_desc.fd

*  00/sep/14 B.E. - original

fd   suspend-desc
       record contains 87 characters .

01  suspend-desc-rec.

    05  clmdtl-suspend-desc                     pic x(70).
    05  clmdtl-status                           pic x.

    05  suspend-dtl-id.
        10  clmdtl-doc-pract-nbr                pic 9(6).
        10  clmdtl-accounting-nbr               pic x(8).
        10  clmdtl-line-no                      pic 99.



working-storage section.

77  password-input                              pic x(3).
77  status-common                               pic x(11).
77  status-cobol-suspend-hdr                    pic  xx         value zero.
77  status-cobol-suspend-addr                   pic  xx         value zero.
77  status-cobol-suspend-dtl                    pic  xx         value zero.
77  status-cobol-suspend-desc                   pic  xx         value zero.

procedure division.
main-line section.
mainline.
    open i-o
                suspend-address
                suspend-dtl
                suspend-hdr
                suspend-desc.

    stop run.
* Micro Focus COBOL for UNIX         V4.0 revision 005 Compiler
* Copyright (C) 1984-1995 Micro Focus Ltd.     URN 2XUPG/GB0/00000F
* Micro Focus COBOL for UNIX         V4.0 revision 005 18-May-06 15:40 Page   7
*                      createsusp.cbl                                )
*                                              REF GNB-030056000AA
*
* Total Messages:     0
* Data:        1928     Code:         482
