/alpha/rmabill/rmabill101/dvlp/moira
Wed Apr 19 15:42:11 EDT 2017
 + + + Sourced in /alpha/rmabill/rmabill101/dvlp/moira + + +
;Compiling program [/alpha/rmabill/rmabill101/dvlp/moira/fix_f040_oma_min_max.qts]
Q T P   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ; fix_f040_oma_min_max.qts
> ; this program should be run when there is an update in ohip fee initiated from MOH
> 
> ; 2017/Feb/28	change oma fee to be  from ohip fee
> ; 2017/Mar/02   change oma fee to be const-oma-curr from ohip fee as of 2017 service date
> ; 2017/Apr/19   include the link of record 2 of f090 to access the OMA rate
> 
> cancel clear
> set process nolimit
> set lock record update
> 
> request update1  on calculation errors report on edit errors report
> 
> access f040-oma-fee-mstr				&
> 	link 2 to const-rec-nbr of constants-mstr-rec-2
> 
> ;sel if fee-curr-h-min <> 0 or fee-curr-h-max <> 0	&
> ;    or fee-prev-h-min <> 0 or fee-prev-h-max <> 0
> 
> sel if fee-curr-add-on-perc-or-flat-ind <> 'P' 		&
>    and fee-prev-add-on-perc-or-flat-ind <> 'P'
> 
> ;subfile savef040_min_max      keep include f040-oma-fee-mstr
> ;subfile savef040_min_max_prev keep include f040-oma-fee-mstr
> ;subfile savef040_min_max_before_214 keep include f040-oma-fee-mstr
> ;subfile savef040_min_max_before_222 keep include f040-oma-fee-mstr
> subfile savef040_min_max_before keep include f040-oma-fee-mstr
> 
> output f040-oma-fee-mstr update on errors report
>    item fee-curr-a-fee-1 final fee-curr-h-fee-1 * const-oma-curr / 100
>    item fee-curr-a-fee-2 final fee-curr-h-fee-2 * const-oma-curr / 100
>    item fee-prev-a-fee-1 final fee-prev-h-fee-1 * const-oma-prev / 100
>    item fee-prev-a-fee-2 final fee-prev-h-fee-2 * const-oma-prev / 100
> 
>    item fee-curr-a-min   final fee-curr-h-min   * const-oma-curr / 100
>    item fee-curr-a-max   final fee-curr-h-max   * const-oma-curr / 100
>    item fee-prev-a-min   final fee-prev-h-min   * const-oma-prev / 100
>    item fee-prev-a-max   final fee-prev-h-max   * const-oma-prev / 100
> 
> 
> request update2  on calculation errors report on edit errors report
> 
> 
> access f040-oma-fee-mstr
> 
> choose fee-oma-cd  'S197', 'S265', 'S266'
Choose viaindex FEE-OMA-CD.
> 
> output f040-oma-fee-mstr update on errors report
>    item fee-curr-a-fee-1 final 9999999
>    item fee-curr-a-fee-2 final 9999999
>    item fee-prev-a-fee-1 final 9999999
>    item fee-prev-a-fee-2 final 9999999
> 
> build $obj/fix_f040_oma_min_max
0 ERRORS  0 WARNINGS.
The file /alpha/rmabill/rmabill101/obj/fix_f040_oma_min_max.qtc already exists. 
Ok to delete?
Wed Apr 19 15:42:16 EDT 2017
