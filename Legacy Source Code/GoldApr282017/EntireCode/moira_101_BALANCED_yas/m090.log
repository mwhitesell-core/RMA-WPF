/alpha/rmabill/rmabill101/dvlp/moira
Tue Jan  6 17:52:57 EST 2015
 + + + Sourced in /alpha/rmabill/rmabill101/dvlp/moira + + +
;Compiling program [/alpha/rmabill/rmabill101/dvlp/moira/m090.qks]
Q D E S I G N   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-DEVELOPMENT for customer: 0057360001 DYAD Systems Inc. UNIX

> ;#> program-id.     m090.qks
> ;
> ;	((C)) Dyad Technologies
> ;
> ;    PROGRAM PURPOSE : alternative constants master maintenance written
> ;		       in powerhouse rather than cobol - shows the 13
> ;		       period end dates for each clinic
> ;
> ;    MODIFICATION HISTORY
> ;        DATE   WHO     DESCRIPTION
> ;    00/jul/26 B.E.     - original
> ;    14/jul/24 MC1      - include the new field iconst-monthend to indicate which monthend that
> ; 			  the clinic should be run, include the display of cycle nbr
> ;    15/Jan/06 MC2	- correct the internal procedure reset-display-flag  for if else
> 
> can clear
> 
> screen $pb_obj/m090 activities find, change
> 
> file iconst-mstr-rec
>    access via iconst-clinic-nbr-1-2 &
>    request    iconst-clinic-nbr-1-2
> 
> temp x-flag-1  char*15
> temp x-flag-2  char*15
> temp x-flag-3  char*15
> temp x-flag-4  char*15
> temp x-flag-5  char*15
> temp x-flag-6  char*15
> temp x-flag-7  char*15
> temp x-flag-8  char*15
> temp x-flag-9  char*15
> temp x-flag-10 char*15
> temp x-flag-11 char*15
> temp x-flag-12 char*15
> temp x-flag-13 char*15
> 
> align (1,4,20) (,23,26)
> 
> field iconst-clinic-nbr-1-2  required		label "Clinic id  :"	&
> 	values 22 to 99
> field iconst-clinic-name display		label " - "
> 
> align (1,4,20)
> field iconst-date-period-end 			label "CURRENT ped:"
> align ( ,4,20)
> field iconst-ped-number-within-fiscal-year 	label "PED nbr    :" display
> ; MC1
> align ( ,4,20)
> field iconst-monthend label "Monthend   :"         &
> 	help 'assign which monthend for this clinic to be run'
> field iconst-clinic-cycle-nbr label "Cycle      :"   &
> 	help 'Current Cycle nbr '
> 
> 
> skip 2
> 
> align (1,4,20) (,,32)
> field iconst-date-period-end-1		label "PED -  1   :"
> field x-flag-1  display hilite display blinking inverse
> field iconst-date-period-end-2		label "PED -  2   :"
> field x-flag-2  display hilite display blinking inverse
> field iconst-date-period-end-3		label "PED -  3   :"
> field x-flag-3  display hilite display blinking inverse
> field iconst-date-period-end-4		label "PED -  4   :"
> field x-flag-4  display hilite display blinking inverse
> field iconst-date-period-end-5		label "PED -  5   :"
> field x-flag-5  display hilite display blinking inverse
> field iconst-date-period-end-6		label "PED -  6   :"
> field x-flag-6  display hilite display blinking inverse
> field iconst-date-period-end-7		label "PED -  7   :"
> field x-flag-7  display hilite display blinking inverse
> field iconst-date-period-end-8		label "PED -  8   :"
> field x-flag-8  display hilite display blinking inverse
> field iconst-date-period-end-9		label "PED -  9   :"
> field x-flag-9  display hilite display blinking inverse
> field iconst-date-period-end-10		label "PED -  10  :"
> field x-flag-10 display hilite display blinking inverse
> field iconst-date-period-end-11		label "PED -  11  :"
> field x-flag-11 display hilite display blinking inverse
> field iconst-date-period-end-12		label "PED -  12  :"
> field x-flag-12 display hilite display blinking inverse
> field iconst-date-period-end-13		label "PED -  13  :"
> field x-flag-13 display hilite display blinking inverse
> 
> procedure internal reset-display-flag
> begin
> 
> let x-flag-1  = " "
> let x-flag-2  = " "
> let x-flag-3  = " "
> let x-flag-4  = " "
> let x-flag-5  = " "
> let x-flag-6  = " "
> let x-flag-7  = " "
> let x-flag-8  = " "
> let x-flag-9  = " "
> let x-flag-10 = " "
> let x-flag-11 = " "
> let x-flag-12 = " "
> let x-flag-13 = " "
> 
> if    iconst-date-period-end-1 = iconst-date-period-end
> then
>   begin
>     let x-flag-1 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 1
>   end
> 
> else
> if    iconst-date-period-end-2 = iconst-date-period-end
> then
>   begin
>     let x-flag-2 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 2
>   end
> 
> else
> if    iconst-date-period-end-3 = iconst-date-period-end
> then
>   begin
>     let x-flag-3 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 3
>   end
> 
> else
> if    iconst-date-period-end-4 = iconst-date-period-end
> then
>   begin
>     let x-flag-4 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 4
>   end
> 
> else
> if    iconst-date-period-end-5 = iconst-date-period-end
> then
>   begin
>     let x-flag-5 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 5
>   end
> 
> else
> if    iconst-date-period-end-6 = iconst-date-period-end
> then
>   begin
>     let x-flag-6 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 6
>   end
> 
> else
> if    iconst-date-period-end-7 = iconst-date-period-end
> then
>   begin
>     let x-flag-7 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 7
>   end
> 
> else
> if    iconst-date-period-end-8 = iconst-date-period-end
> then
>   begin
>     let x-flag-8 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 8
>   end
> 
> else
> if    iconst-date-period-end-9 = iconst-date-period-end
> then
>   begin
>     let x-flag-9 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 9
>   end
> 
> else
> if    iconst-date-period-end-10 = iconst-date-period-end
> then
>   begin
>     let x-flag-10 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 10
>   end
> 
> else
> if    iconst-date-period-end-11 = iconst-date-period-end
> then
>   begin
>     let x-flag-11 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 11
>   end
> 
> else
> if    iconst-date-period-end-12 = iconst-date-period-end
> then
>   begin
>     let x-flag-12 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 12
>   end
> 
> else
> if    iconst-date-period-end-13 = iconst-date-period-end
> then
>   begin
>     let x-flag-13 = "<-- current PED"
>     let iconst-ped-number-within-fiscal-year = 13
>   end
> 
> display iconst-ped-number-within-fiscal-year
> display x-flag-1
> display x-flag-2
> display x-flag-3
> display x-flag-4
> display x-flag-5
> display x-flag-6
> display x-flag-7
> display x-flag-8
> display x-flag-9
> display x-flag-10
> display x-flag-11
> display x-flag-12
> display x-flag-13
> 
> ; ensure that the date entered matches one of the expected dates
> if    x-flag-1  = " "	&
>   and x-flag-2  = " "	&
>   and x-flag-3  = " "	&
>   and x-flag-4  = " "	&
>   and x-flag-5  = " "	&
>   and x-flag-6  = " "	&
>   and x-flag-7  = " "	&
>   and x-flag-8  = " "	&
>   and x-flag-9  = " "	&
>   and x-flag-10 = " "	&
>   and x-flag-11 = " "	&
>   and x-flag-12 = " "	&
>   and x-flag-13 = " "
> then
>    info "WARNING - the PED you entered is not in the list of possible PEDs!!" now response
> 
> end
> 
> procedure process iconst-date-period-end
> begin
>   do reset-display-flag
> end
> 
> procedure process iconst-date-period-end-1
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-2
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-3
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-4
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-5
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-6
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-7
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-8
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-9
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-10
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-11
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-12
> begin
>   do reset-display-flag
> end
> procedure process iconst-date-period-end-13
> begin
>   do reset-display-flag
> end
> 
> 
> procedure postfind
> begin
>   do reset-display-flag
> end
> 
> build
MODE:x ACTION:xxxxxxxxx
01 Clinic id  :    xx  - xxxxxxxxxxxxxxxxxxxx
02 CURRENT ped:    xxxxxxxxxx
   PED nbr    :    xx
   Monthend   :    x
   Cycle      :    xx
 
 
03 PED -  1   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
04 PED -  2   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
05 PED -  3   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
06 PED -  4   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
07 PED -  5   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
08 PED -  6   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
09 PED -  7   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
10 PED -  8   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
11 PED -  9   :    xxxxxxxxxx  xxxxxxxxxxxxxxx
12 PED -  10  :    xxxxxxxxxx  xxxxxxxxxxxxxxx
13 PED -  11  :    xxxxxxxxxx  xxxxxxxxxxxxxxx
14 PED -  12  :    xxxxxxxxxx  xxxxxxxxxxxxxxx
15 PED -  13  :    xxxxxxxxxx  xxxxxxxxxxxxxxx
 
 
0 ERRORS  0 WARNINGS. Delete old screen /alpha/rmabill/rmabill101/obj/m090.qkc?
Tue Jan  6 17:53:01 EST 2015
