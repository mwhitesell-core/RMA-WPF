/alpha/rmabill/rmabill101/dvlp/moira
Mon Jun 29 16:54:59 EDT 2015
 + + + Sourced in /alpha/rmabill/rmabill101/dvlp/moira + + +
;Compiling program [/alpha/rmabill/rmabill101/dvlp/moira/r211.qzs]
Q U I Z   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ; DOC: R211.QZS
> ; DOC: REPORT BATCH STATUS IF NOT EQUAL TO "4"
> ; DOC: RUN AFTER U210 FOR CLINIC 22/60/80/81/82/83
> ;
> ;
> ;    PROGRAM PURPOSE : TO VERIFY U210 RUN O.K.
> ;
> ;
> ;    MODIFICATION HISTORY
> ;    DATE        WHO         DESCRIPTION
> ;    95/NOV/14   YAS         - ORIGINAL
> ;    97/MAR/24   YAS         - ADD CLINIC 82
> ;    97/AUG/24   YAS         - ADD CLINIC 83
> ;    1999/May/21 S.B.	     - Added the use file
> ;			       def_batctrl_batch_status.def to
> ;			       prevent hardcoding of batctrl-batch-status.
> ;    2004/May/19 M.C.	     - alpha doc nbr
> ;    2015/Jun/29 MC1 	     - select clinics based on selected monthend instead of choose on clinic
> 
> can clear
> set rep nolimit
> set page length 62 width 132
> set rep device disc name r211
> set noblanks
> set formfeed
> 
> access f001-batch-control-file                                     &
> 	link (nconvert(batctrl-batch-nbr[1:2])) to iconst-clinic-nbr-1-2 &
> 	 of  iconst-mstr-rec
> 
> ; MC1
> ;choose batctrl-batch-nbr                                              &
> ; parm range prompt                                                    &
> ; "ENTER 22000000 OR 60000000 OR 80000000 OR 81000000 OR 82000000 OR 83000000: "  &
> ;  toprompt "ENTER 22ZZZ999 OR 65ZZZ999 OR 80ZZZ999 OR 81ZZZ999 OR 82ZZZ999 OR 83ZZZ999: "  1 time
> define x-monthend char*1 = parm prompt 'Enter Monthend (1,2,3): '
> 
> select iconst-mstr-rec if iconst-monthend = x-monthend
> ; MC1 - end
> 
> ;S.B.
> use $use/def_batctrl_batch_status.def
> ; DEF_BATCTRL_BATCH_STATUS.DEF
> ; This use file is called from the following programs:
> ;
> ; 	filler001a.qts, newu706a.qts,  r211.qzs,  u020a.qts,
> ;	u020c.qts,  u030b.qts,  u030b_22.qts, u030b_cur.qts,
> ;	u030b_fixup.qts,  u030b_rerun.qts,  u210.qts,
> ;	u706a.qts,  u802.qts
> ;
> def batctrl-batch-status-unbalanced  	char*1  = "0"
> def batctrl-batch-status-balanced  	char*1  = "1"
> def batctrl-batch-status-rev-updated 	char*1  = "2"
> def batctrl-batch-status-ohip-sent 	char*1  = "3"
> def batctrl-batch-status-monthend-done  char*1  = "4"
> 
> ;select f001-batch-control-file if batctrl-batch-status ne "4"
> select f001-batch-control-file if batctrl-batch-status ne 	&
> 	batctrl-batch-status-monthend-done
> 
> select if iconst-date-period-end = nconvert(batctrl-date-period-end)
> 
> page heading                                              	&
> 	tab 1   "R211"  			          	&
> 	tab 8   "/"         		          	        &
> 	tab 9   iconst-clinic-nbr-1-2                           &
> 	tab 13  "P.E.D"				          	&
> 	tab 20  iconst-date-period-end pic "^^^^/^^/^^"     	&
> 	tab 38  "BATCHES NOT UPDATED BY U210 (INVESTIGATE)"     &
>  	tab 98 "RUN DATE:"                               	&
>         tab 108 sysdate                                  	&
>         tab 120 "PAGE:" tab 126 syspage pic "^^^"      	 	&
> skip 2  tab 1   "BATCH NBR"                                     &
>         tab 14  "P.E.D."                                        &
>         tab 26  "STATUS"                                        &
> skip 1  tab 1   "---------"                                     &
>         tab 14  "--------"                                      &
>         tab 26  "------"                                        &
> skip 2
> 
> report                                                          &
>   tab 01  batctrl-batch-nbr pic "^^^^^^^^^"      		&
>   tab 14  batctrl-date-period-end pic "^^^^/^^/^^"              &
>   tab 28  batctrl-batch-status                                  &
> skip 1
> 
> build $pb_obj/r211
The file /alpha/rmabill/rmabill101/obj/r211.qzc already exists. Ok to delete?
> 
Mon Jun 29 16:55:03 EDT 2015
