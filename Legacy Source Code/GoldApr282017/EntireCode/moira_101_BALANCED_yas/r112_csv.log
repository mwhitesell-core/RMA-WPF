/alpha/rmabill/rmabill101/src
Thu Sep 24 16:28:20 EDT 2015
 + + + Sourced in /alpha/rmabill/rmabill101/src + + +
;Compiling program [/alpha/rmabill/rmabill101/src/r112_csv.qzs]
Q U I Z   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ; DOC: R112_CSV.QZS
> ; DOC: REPORT RECORDS FROM F112-PYCDCEILINGS AFTER YEAREND PAYROLL PURGE
> ; DOC: RUN FOR: Helena
> ;
> ;  MODIFICATION HISTORY
> ;  2015/Aug/31          M.C.     - As per Brad's request, dump out new f112 for
> ;                                  user to verify after yearend payroll purge
> ;				 - Moira suggested to include the termination date since we are showing all doctors
> ;				 - this program will be run in $cmd/yearend_payroll_purge
> 
> cancel clear
> set report nolimit
> set rep dev disc name r112_csv
> set rep page width 132 length 0
> set nohead
> 
> access f112-pycdceilings  		&
> 	link to f020-doctor-mstr opt	&
Access F020-DOCTOR-MSTR viaindex DOC-NBR.
> 	link doc-dept			&
> 	 to dept-nbr of f070-dept-mstr opt
> 
> 
> def x-delimiter char*1 = "~"
> 
> def x-company      char*1  = ascii(dept-company)
> 
> def x-dept         char*4  = '"' + ascii(doc-dept,2) + '"'
> 
> def x-doc-nbr      char*5  = '"' + doc-nbr     + '"'
> 
> def x-ep-nbr       char*6  = ascii(ep-nbr)
> 
> def x-pay-code     char*4 = '"' + pack(doc-pay-code + doc-pay-sub-code) + '"'
> 
> def x-ceiling-alpha char*7 = ascii(doc-yrly-ceiling)
> 
> def x-expense-alpha char*7 = ascii(doc-yrly-expense)
> 
> def x-term-date     char*8 = ascii(doc-date-fac-term)
> 
> def x-line char*132 =                                   &
>         lj(pack(                                        &
>                 x-company       +                       &
>                 x-delimiter  +                          &
>                 x-dept          +                       &
>                 x-delimiter  +                          &
>                 x-doc-nbr       +                       &
>                 x-delimiter  +                          &
>                 doc-name        +                       &
>                 x-delimiter  +                          &
>                 x-pay-code        +                     &
>                 x-delimiter  +                          &
>                 x-ceiling-alpha   +                     &
>                 x-delimiter  +                          &
>                 x-expense-alpha   +                     &
>                 x-delimiter  +                          &
>                 x-term-date  +                          &
>                 x-delimiter  +                          &
>                 x-ep-nbr                                &
>                 ) )
> 
> initial heading                                                 &
>         tab  1  'COMPANY'                                       &
>         tab  8  x-delimiter                                     &
>         tab  9  'DEPT'                                          &
>         tab 13  x-delimiter                                     &
>         tab 14  'DOC#'                                          &
>         tab 18  x-delimiter                                     &
>         tab 19  'DOC NAME'                                      &
>         tab 27  x-delimiter                                     &
>         tab 28  'PAY CD'                                        &
>         tab 34  x-delimiter                                     &
>         tab 35  'CEILING'					&
>         tab 42  x-delimiter                                     &
>         tab 43  'EXPENSE'                                       &
>         tab 50  x-delimiter                                     &
>         tab 51  'TERM DATE'                                     &
>         tab 60  x-delimiter                                     &
>         tab 61  'EP NBR'
> 
> 
> report tab 01 x-line
> 
> ;------------------------------
> 
> 
> 
> build $pb_obj/r112_csv
Thu Sep 24 16:28:24 EDT 2015
