* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   1
*                      createfiles.cbl
* Directives File: /usr/opt/mfcobol4.0/cobol.dir
* Accepted - SHOW-DIR
* Accepted - SOURCEFORMAT"FREE"
* Accepted - SPZERO
* Accepted - TIME
* Accepted - TRUNC
* Accepted - LIST
* Accepted - RESEQ
* End Of Directives File: /usr/opt/mfcobol4.0/cobol.dir
* Options: int(createfiles.int) verbose nolist endp list(createfiles.lst)
identification division.
program-id. createfiles.
author. dyad systems inc.
installation. rma.
date-written. 98/01/09.
date-compiled. 20-Mar-17 13:30.
security.
*
*
* 2000/may/17 B.E.      - added f011-pat-mstr-elig-history
* 2003/jan/20 M.C.      - added f123-company-mstr
* 2003/nov/05 b.e.      - alpha doctor number
* 2005/jan/05 b.e.      - f027-contacts-mstr
*                       - f028-contacts-info-mstr
*                       - open/closed files in 2 sections as the original
*                         code opened too many files at one time.
* 2005/feb/03 b.e.      - added f029-followup-events and f020-doctor-extra
* 2005/may/19 M.C.      - cannot add f029-followup-events in cobol because
*                         powerhouse has defined date segment as descending orde
*                         as part of the key and Cobol cannot be done
*                       - they have been commented out
* 2011/may/17 M.C.      - added f201-sli-oma-code-suff mstr
* 2011/may/24 M.C.      - comment out f020-doctor-extra, Cobol does not use it
* 2013/Jun/24 MC1       - added f010-ins & f010-crm
* 2015/Mar/17 MC2       - added f040-dtl

environment division.
input-output section.
file-control.

    copy "eft_logical_rec_file.slr".
    select eft-logical-rec-file
        assign to ws-work-file-a
        organization is sequential.
    copy "f001_batch_control_file.slr".
    select batch-ctrl-file
*       assign index to "f001_batch_control_file"
*       assign data  to "f001_batch_control_file"
        assign to disk "$pb_data/f001_batch_control_file"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

*       record key   is key-batctrl-file length is 9
        record key   is key-batctrl-file
*tobefixed*     record key   is key-gen-batctrl-file length is 2   S
              status is status-cobol-batctrl-file.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   2
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*       infos status is status-batctrl-file.
*       eof-flag     is eof-batctrl-file
*

    select claims-extra-mstr
*       assign index to "F002_CLAIMS_EXTRA.00.IDX"
*mf     assign data  to "F002_CLAIMS_EXTRA.DB"
        assign to disk "$pb_data/f002_claims_extra"
        organization is indexed
        access mode is dynamic
        record key is clmhdr-rma-clm-nbr
        status is status-cobol-claims-extra.

    copy "f002_claim_shadow.slr".
    select claim-shadow-mstr
*       assign index    to "f002_claim_shadow"
*       assign data     to "f002_claim_shadow"
        assign to disk "$pb_data/f002_claim_shadow"
        organization    is indexed
        access mode     is dynamic
        record key      is clm-shadow-key
*tobefixed dupcliates
*tobefixed"         with duplicates occurrence is claims-mstr-shadow-occur
        file status     is status-cobol-clm-shadow-mstr.
*       infos status    is status-infos-clm-shadow-mstr.
*
    copy "f002_claim_shadow_new.slr".
    select claim-shadow-mstr-new
*        assign index    to "f002_claim_shadow_new"
         assign to disk     "$pb_data/f002_claim_shadow_new"
         organization    is indexed
         access mode     is dynamic
*mf added lock mode so that files aren't open exclusively
         lock mode is manual
*
         record key      is clm-shdw-new-key
                with duplicates
*mf         with duplicates occurrence is claims-mstr-shadow-new-occur
         file status     is status-cobol-shadow-mstr-new.
*        infos status    is status-infos-clm-shadow-mstr-new.

    copy "f002_claims_mstr.slr".
    select claims-mstr
*tobefixed* brad no unique key for this file !!!!!
*               two record keys
*       assign index to "f002_claims_mstr"
*       assign data  to "f002_claims_mstr"

        assign to disk "$pb_data/f002_claims_mstr"

        organization is indexed
        access mode  is dynamic
*mf     (added lock mode so that files aren't open exclusively)
        lock mode is manual

*       record key   is key-claims-mstr     length is 18
        record key   is key-claims-mstr
          with duplicates
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   3
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)

*tobefixed*             with  duplicates occurrence is claims-occur
*mf     record key   is key-gen-claims-mstr length is  2
*mf     alternate record key   is key-gen-claims-mstr
        alternate record key   is clmdtl-p-claims-mstr
           with duplicates

        status       is status-cobol-claims-mstr.
    copy "f002_claims_mstr_new.slr".
    select claims-mstr-new
*     assign index to "f002_claims_mstr_new"
      assign to disk  "$pb_data/f002_claims_mstr_new"
      organization is indexed
      access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
      lock mode is manual
*
*mf      record key   is key-claims-mstr-new    length is 18
      record key   is key-claims-mstr-new
                with duplicates
*mf  with  duplicates occurrence is claims-occur-new
    alternate record key   is clmdtl-p-claims-mstr-new
           with duplicates
      status       is status-cobol-claims-mstr-new.
*   infos status is status-claims-mstr-new.
*        eof-flag     is eof-claims-mstr-new
*

    copy "f002_suspend_address.slr".
* file: f002_suspend_address.slr

select suspend-address
    assign to disk "f002_suspend_address"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-addr
    record key   is suspend-addr-id.
    copy "f002_suspend_dtl.slr".
* file "f002_suspend_dtl.slr".

select suspend-dtl
    assign to disk "f002_suspend_dtl"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-dtl
    record key   is suspend-dtl-id of suspend-dtl with duplicates.
    copy "f002_suspend_hdr.slr".
* file: "f002_suspend_hdr.slr".

select suspend-hdr
    assign to disk   "f002_suspend_hdr"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   4
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*
    status       is status-cobol-suspend-hdr
    record key   is suspend-hdr-id
* 2010/aug/11 - MC - add new index
    alternate record key is suspend-hdr-acr.
* 2010/aug/11 - end
    copy "f002_suspend_desc.slr".
* file "f002_suspend_desc.slr".

select suspend-desc
    assign to disk "f002_suspend_desc"
    organization is indexed
    access mode  is dynamic
        lock mode is manual
*
    status       is status-cobol-suspend-desc
* 2005/05/09 - MC - according to PH, the key is unique
*    record key   is suspend-dtl-id of suspend-desc with duplicates.
    record key   is suspend-dtl-id of suspend-desc.
* 2005/05/09 - end

******    copy "f010_new_patient_file.slr".
    copy "f010_new_patient_mstr.slr".
*   (2002/jun/26 B.E. added chart nbrs 2-5)

    select pat-mstr
        assign to disk "$pb_data/f010_pat_mstr"
        organization is indexed
        access mode  is dynamic
        lock mode is manual

        record    key is key-pat-mstr    of pat-mstr
        alternate key is pat-health-nbr  of pat-mstr with duplicates
        alternate key is pat-acronym     of pat-mstr with duplicates
        alternate key is pat-ohip-mmyy   of pat-mstr with duplicates
        alternate key is pat-chart-nbr   of pat-mstr with duplicates
        alternate key is pat-chart-nbr-2 of pat-mstr with duplicates
        alternate key is pat-chart-nbr-3 of pat-mstr with duplicates
        alternate key is pat-chart-nbr-4 of pat-mstr with duplicates
        alternate key is pat-chart-nbr-5 of pat-mstr with duplicates
        alternate key is pat-full-name   of pat-mstr with duplicates

        status       is status-cobol-pat-mstr.
*

    copy "f011_pat_mstr_elig_history.slr".
    select pat-elig-history
        assign to disk "$pb_data/f011_pat_mstr_elig_history"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key    is pat-elig-history-key of pat-elig-history
                with duplicates

        status       is status-cobol-pat-elig-history.

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   5
*                      createfiles.cbl                               )

    copy "f020_doctor_mstr.slr".
    select doc-mstr
*mf     assign index to "f020_doctor_mstr"
*mf     assign data  to "f020_doctor_mstr"
        assign to disk "$pb_data/f020_doctor_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is doc-nbr of doc-mstr-rec

*mf added two  alternative keys below
        alternate key is doc-name-soundex
         with duplicates
        alternate key is doc-ohip-nbr of doc-mstr
         with duplicates
              status  is status-cobol-doc-mstr.
*       infos status  is status-doc-mstr.
*       eof-flag     is eof-doc-mstr
*
* 2011/05/24 - MC - comment out
*    copy "f020_doctor_extra_mstr.slr".
    copy "f027_contacts_mstr.slr".
    select contacts-mstr
        assign to disk "$pb_data/f027_contacts_mstr"
        organization is indexed
        access mode  is dynamic
        lock mode is manual

        record key   is contacts-key  of contacts-mstr-rec

********alternate key is doc-nbr of contact-mstr-rec
              status  is status-cobol-contacts-mstr.
*
    copy "f028_contacts_info_mstr.slr".
    select contacts-info-mstr
        assign to disk "$pb_data/f028_contacts_info_mstr"
        organization is indexed
        access mode  is dynamic
        lock mode is manual

        record key   is contacts-info-key  of contacts-info-mstr-rec

              status  is status-cobol-contacts-info.
*
**  copy "f029_followup_events_mstr.slr".
    copy "f030_locations_mstr.slr".
    select loc-mstr
*       assign index to "f030_locations_mstr"
*               contiguous
*       assign data  to "f030_locations_mstr"
        assign  to disk "$pb_data/f030_locations_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   6
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        record key   is loc-nbr
*       infos status is status-loc-mstr.
        status is status-cobol-loc-mstr.
    copy "f040_oma_fee_mstr.slr".
    select oma-fee-mstr
*mf     assign index to "f040_oma_fee_mstr"
*mf     assign data  to "f040_oma_fee_mstr"
        assign to disk "$pb_data/f040_oma_fee_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key   is fee-oma-cd
*mf     infos status is status-oma-mstr.
*       eof-flag     is eof-oma-mstr
        status is status-cobol-oma-mstr.
    copy "f050_doc_revenue_mstr.slr".
        select docrev-mstr
*       assign index to "f050_doc_revenue_mstr"
*       assign data  to "f050_doc_revenue_mstr"
        assign to disk "$pb_data/f050_doc_revenue_mstr"
*               contiguous
*               space management
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is docrev-key
        status       is status-cobol-docrev-mstr.
*       infos status  is status-docrev-mstr.
    copy "f050tp_doc_revenue_mstr.slr".
    select docrevtp-mstr
*       assign index to "f050tp_doc_revenue_mstr"
*       assign data  to "f050tp_doc_revenue_mstr"
        assign to disk "$pb_data/f050tp_doc_revenue_mstr"
*               contiguous
*               space management
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is docrevtp-key
        status       is status-cobol-docrevtp-mstr.
*       infos status  is status-docrevtp-mstr.

    copy "f051_doc_cash_mstr.slr".
    select docash-mstr
*       assign index to "f051_doc_cash_mstr"
*       assign data  to "f051_doc_cash_mstr"
        assign to disk "$pb_data/f051_doc_cash_mstr"
*               contiguous
*               space management
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   7
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)

        record key   is docash-key
        status       is status-cobol-docash-mstr.
*       infos status  is status-docash-mstr.
*       eof-flag     is eof-cash-mstr
*
    copy "f051tp_doc_cash_mstr.slr".
    select docashtp-mstr
*       assign index to "f051tp_doc_cash_mstr"
*       assign data  to "f051tp_doc_cash_mstr"
        assign to disk "$pb_data/f051tp_doc_cash_mstr"
*               contiguous
*               space management
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is docashtp-key
        status       is status-cobol-docashtp-mstr.
*       infos status  is status-docashtp-mstr.
*       eof-flag     is eof-cash-mstr
*

    copy "f060_cheque_reg_mstr.slr".
    select cheque-reg-mstr
*       assign index to "f060_cheque_reg_mstr"
*               contiguous
*       assign data  to "f060_cheque_reg_mstr"
        assign to disk "$pb_data/f060_cheque_reg_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is chq-reg-key
        file  status is status-cobol-chq-reg-mstr.
*       infos status is status-chq-reg-mstr.
*
    copy "f070_dept_mstr.slr".
    select dept-mstr
*        assign index to "f070_dept_mstr"
*        assign data  to "f070_dept_mstr"
        assign to disk "$pb_data/f070_dept_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key   is dept-nbr
*        infos status  is status-dept-mstr.
*       eof-flag     is eof-dept-mstr
        status is status-cobol-dept-mstr.
    copy "f071_client_rma_claim_nbr.slr".
    select client-rma-claim-nbr
*mf       assign index to "F071_CLAIM_NBR_RMA"
*mf       assign data  to "F071_CLIENT_RMA_CLAIM_NBR.DB"
          assign to disk  "$pb_data/f071_client_rma_claim_nbr"
          organization is indexed
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   8
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
          access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
          lock mode is manual

*mf changed primary key to alternative  (B.E. 98/Sep/09)
          record key   is claim-nbr-client

*mf added alternative key below (B.E. 98/Sep/09)
* 2003/06/10 - MC
*          alternate key is claim-nbr-rma
          alternate key is claim-nbr-rma-clinic
* 2003/06/10 - end

          status is status-cobol-client-rma-nbr.
*          infos status is status-client-rma-claim-nbr.

    copy "f072_client_mstr.slr".
    select client-mstr
*mf       assign index to "F072_CLIENT_ID"
*mf       assign data  to "F072_CLIENT_MSTR.DB"
          assign to disk  "$pb_data/f072_client_mstr"
          organization is indexed
          access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
          lock mode is manual
          record key   is client-id of client-mstr-rec
*         infos status is status-client-mstr.
          status is status-cobol-client-mstr.
    copy "f073_client_doc_mstr.slr".
    select client-doc-mstr
*mf       assign index to "F073_DOC_NBR"
*mf       assign data  to "F073_CLIENT_DOC_MSTR.DB"
          assign to disk  "$pb_data/f073_client_doc_mstr"
          organization is indexed
          access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
          lock mode is manual
          record    key is doc-nbr   of client-doc-rec
*         alternate key is client-id of client-doc-rec with duplicates
          alternate key is client-doc of  client-doc-rec
*         infos status is status-client-doc-mstr.
          status is status-cobol-client-doc-mstr.
    copy "f080_bank_mstr.slr".
    select bank-mstr
*       assign index to disk "f080_bank_mstr"
*       assign to disk "f080_bank_mstr.dat"
        assign to disk "$pb_data/f080_bank_mstr"
*               contiguous
*               space management
        organization is indexed
        access mode  is random
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key   is bank-cd
*       infos status  is status-bank-mstr.
        status  is status-cobol-bank-mstr.
    copy "f085_rejected_claims.slr".
    select rejected-claims
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page   9
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*       assign index to "f085_rejected_claims.00.idx"
*       assign data  to "f085_rejected_claims"
        assign to disk "$pb_data/f085_rejected_claims"
        organization is indexed
        access mode  is dynamic
*mf     record key   is clmhdr-pat-id length is 16
        record key   is claim-nbr
        alternate record key is clmhdr-pat-id
        with duplicates
*tobefixed*             with duplicates occurrence is rej-clm-occur
        status       is status-cobol-rejected-claims.
*       infos status  is status-info-rejected-claims.

*
    copy "f090_constants_mstr.slr".
select iconst-mstr
assign to disk "$pb_data/f090_constants_mstr"
organization is indexed
access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
lock mode is manual
record key   is iconst-clinic-nbr-1-2
*       eof-flag     is eof-iconst-mstr
status is status-cobol-iconst-mstr.
    copy "f091_diagnostic_codes.slr".
    select diag-mstr
*mf     assign index to "f091_diag_codes_mstr"
*mf     assign data  to "f091_diag_codes_mstr"
        assign to disk "$pb_data/f091_diag_codes_mstr"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual

        record key   is diag-cd
              status is status-cobol-diag-mstr.
*mf     infos status is status-diag-mstr.
*       eof-flag     is eof-diag-mstr
*
    copy "f094_msg_sub_mstr.slr".
    select msg-sub-mstr
*mf     assign index    to "f094_msg_sub_mstr"
*mf     assign data     to "f094_msg_sub_mstr"
        assign to disk "$pb_data/f094_msg_sub_mstr"
        organization    is indexed
        access mode     is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key      is msg-sub-key
              status    is status-cobol-msg-sub-mstr.
*mf     infos status    is status-infos-msg-sub-mstr.
    copy "f096_ohip_pay_code.slr".
    select pay-code-mstr
*       assign index to "f096_ohip_pay_code.00.idx"
*       assign data  to "f096_ohip_pay_code"
        assign to disk "$pb_data/f096_ohip_pay_code"
        organization is indexed
        access mode  is dynamic
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  10
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key   is pay-code
        status is status-cobol-pay-code-mstr.
*       infos status  is status-pay-code-mstr.
*       eof-flag     is eof-pay-code-mstr
*
    copy "f200_oscar_provider.slr".
    select oscar-provider
        assign to disk "$pb_data/f200_oscar_provider"
        organization is indexed
        access mode  is dynamic
        lock mode is manual
        record key   is oscar-provider-no of oscar-provider-rec

        alternate key is doc-nbr           of oscar-provider-rec
         with duplicates
              status  is status-cobol-oscar-provider.
*       infos status  is status-oscar-provider.
*       eof-flag     is     eof-oscar-provider
*

    copy "r051_docrev_work_mstr.slr".
    select      r051-work-file
                assign to "r051wf"
                organization is sequential.

* 2003/01/20 - MC
    copy "f123_company_mstr.slr".
    select company-mstr
        assign to disk "$pb_data/f123_company_mstr"
*        assign to disk "f123_company_mstr"
        organization is indexed
        access mode  is dynamic
        lock mode is manual
        record key   is company-nbr
        status is status-cobol-company-mstr.
* 2003/01/20 - end

* 2011/05/17 - MC
    copy "f201_sli_oma_code_suff.slr".
    select sli-oma-code-suff-mstr
        assign to disk "$pb_data/f201_sli_oma_code_suff"
        organization is indexed
        access mode  is dynamic
*mf added lock mode so that files aren't open exclusively
        lock mode is manual
        record key   is sli-oma-code-suff
        status is status-cobol-sli-oma-mstr.
*
* 2011/05/17 - end

* 2013/06/24 - MC1
    copy "f010_ins.slr".
    select f010-ins
        assign to disk "$pb_data/f010_ins"
        organization is indexed
        access mode  is dynamic
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  11
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        record key   is f010-ins-key
*       alternate key is f010-pri-key
        status       is status-cobol-f010-ins.
    copy "f010_crm.slr".
    select f010-crm
        assign to disk "$pb_data/f010_crm"
        organization is indexed
        access mode  is dynamic
        record key   is f010-crm-key
        status       is status-cobol-f010-crm.
* 2013/06/24 - end

* MC2
    copy "f040_dtl.slr".
    select f040-dtl
        assign to disk "$pb_data/f040_dtl"
        organization is indexed
        access mode  is dynamic
        lock mode is manual
        record key   is oma-dept
        status is status-cobol-f040-dtl.
* MC2 - end

select corrected-pat
        assign        to "f086_pat_id.dat"
        file status   is status-corrected-pat.

*
* The default file format only allows 65K duplicates within a key
* The IDXFORMAT"4" format allows  up to 4M duplicatesS
* $SET IDXFORMAT"4"
*    copy "f010_new_patient_file.slr".
*    copy "f010_new_patient_mstr.slr".

data division.
file section.
    copy "eft_logical_rec_file.fd".
* 99/dec/16 B.E. separated originator number and file creation number
*                into 2 separate fields


fd    eft-logical-rec-file
                block    contains   1464  characters
                record   contains   1464  characters.

01    eft-record-type-a.
*mf          05   a-01-record-type                 pic a.
             05   a-01-record-type                 pic x.
             05   a-02-record-count                pic 9(9).
             05   a-03-originator-number           pic x(10).
             05   a-04-file-creation-number        pic 9(4).
             05   a-05-creation-date               pic 9(6).
             05   a-06-destination-data-centre     pic 9(5).
             05   a-07-filler                      pic x(1213).
             05   a-08-version-number              pic 9(4).
             05   a-09-settlement-account          pic 99.
             05   a-10-institution-account.
                  10   institution-account  occurs  10 times.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  12
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
                       15   institution-id         pic 9(9).
                       15   settlement-account     pic x(12).

01    eft-record-type-c.

             05    c-01-record-type                pic a.
             05    c-02-record-count               pic 9(9).
*            05    c-03-origin-contl-nbr           pic x(14).
             05    c-03-originator-nbr             pic x(10).
             05    c-03-file-creation-nbr          pic 9(04).

             05    c-04-transaction-type           pic 9(3).
             05    c-05-amount                     pic 9(8)v99.
             05    c-06-fund-available-date        pic 9(6).
             05    c-07-bank-nbr                   pic 9(9).
             05    c-08-payee-acc-nbr              pic x(12).
             05    c-09-reserved                   pic x(22).
             05    c-10-stored-trans-type          pic 9(3).
*            05    c-11-rma-short-name             pic x(15).
             05    c-11-short-name                 pic x(15).
             05    c-12-payee-name                 pic x(30).
*            05    c-13-rma-long-name              pic x(30).
             05    c-13-long-name                  pic x(30).
             05    c-14-originator-nbr             pic x(10).
             05    c-15-cross-ref-nbr              pic x(19).
             05    c-16-institution-return         pic 9(9).
             05    c-17-account-return             pic x(12).
             05    c-18-sundry                     pic x(15).
             05    c-19-filler                     pic x(22).
             05    c-20-settlement-indicator       pic 9(2).
             05    c-21-invalid-indicator          pic 9(11).
             05    c-seg-two-six                   pic x(1200).


01    eft-record-type-z.

             05    z-01-record-type                pic a.
             05    z-02-record-count               pic 9(9).
*                05    z-03-origin-contl-nbr           pic x(14).
             05    z-03-originator-nbr             pic x(10).
             05    z-03-file-creation-number       pic 9(4).
             05    z-04-total-debit-value          pic 9(12)v99.
             05    z-05-total-debit-nbr            pic 9(8).
             05    z-06-total-credit-value         pic 9(12)v99.
             05    z-07-total-credit-nbr           pic 9(8).
             05    z-08-filler                     pic x(1396).

    copy "f001_batch_control_file.fd".
*  98/aug/01 B.E.      - unix conversion - moved external key to internal keyp
*  98/dec/01 D.B.       - y2k
*  99/Jan/21 M.C.       - move 'adj-cd' and 'adj-cd-sub-type' between
*                         'batch-type' and 'last-claim-nbr' fields
*                       - comment out filler
*  99/Apr/23 M.C.       - change key-batctrl-file from numeric to alpha
*  99/May/27 M.C.       - change batctrl-clinic-nbr numeric to alpha
*  99/nov/18 B.E.       - location changed from x999 to x(4).
*  01/nov/06 B.E.       - added batctrl-payroll as redefine of batctrl-hosp
*  03/oct/20 b.e.       - alpha doctor nbr
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  13
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*  16/Jan/29 MC1        - change amount field from 9(5)v99 to 9(7)v99

fd batch-ctrl-file
*!          block  contains 112 characters
*!          record contains 112 characters.
          block  contains 111 characters
          record contains 111 characters.

01  batctrl-rec.

    05  batctrl-batch-nbr.
        10  batctrl-bat-clinic-nbr-1-2          pic 99.
*!      10  batctrl-bat-doc-nbr                 pic 9(4).
        10  batctrl-bat-doc-nbr                 pic x(3).
        10  batctrl-bat-week-day.
            15  batctrl-bat-week                pic 99.
            15  batctrl-bat-day                 pic 9.
        10  batctrl-bat-week-day-r redefines batctrl-bat-week-day
                                                pic 999.
    05  key-batctrl-file-r redefines batctrl-batch-nbr.
*mc     10  key-batctrl-file                    pic 9(9).
* mc - redefined from numeric to alpha so that programs moving
*      alphabetic fields to this field get left justified results
*      rather than right justified results which the numeric
*      definition gives.  For example,  cobol programs doing
*      'read approximates' move "22" to this field and with the
*      numeric definition get "00000022" to read. By changing
*      to alphabetic field, we get "22     " and the read
*      aproximate works the same with this internal key as
*      before when we had  external key.
*!        10  key-batctrl-file                  pic x(9).
        10  key-batctrl-file                    pic x(8).


    05  batctrl-batch-type                      pic x.
    05  batctrl-adj-cd                          pic x.
    05  batctrl-adj-cd-sub-type                 pic x.
    05  batctrl-last-claim-nbr                  pic 99.
    05  batctrl-clinic-nbr.
*       10  batctrl-clinic-nbr-1-2              pic 99.
*       10  batctrl-clinic-nbr-3-4              pic 99.
        10  batctrl-clinic-nbr-1-2              pic xx.
        10  batctrl-clinic-nbr-3-4              pic xx.
    05  batctrl-doc-nbr-ohip                    pic 9(6).

    05  batctrl-hosp                            pic x.
    05  batctrl-payroll redefines batctrl-hosp  pic x.

    05  batctrl-loc.
        10  batctrl-loc1                        pic x.
* 99/nov/19 B.E.
*       10  batctrl-loc2-4                      pic 999.
        10  batctrl-loc2-4                      pic xxx.
    05  batctrl-agent-cd                        pic 9.
*   05  batctrl-adj-cd                          pic x.
    05  batctrl-i-o-pat-ind                     pic x.
*       ('batctrl-date-batch-entered' formerly called 'batctrl-date-claimed-sys'
    05  batctrl-date-batch-entered              pic x(8).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  14
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*       ('filler' formerly called 'batctrl-date-sv')
*   05  filler                                  pic x(6).  - use for y2k
    05  batctrl-date-period-end.
        10 batctrl-date-period-end-yy           pic xxxx.
        10 batctrl-date-period-end-mm           pic xx.
        10 batctrl-date-period-end-dd           pic xx.
    05  batctrl-cycle-nbr                       pic 999.
* MC1
*   05  batctrl-amt-est                         pic s9(5)v99.
*   05  batctrl-amt-act                         pic s9(5)v99.
    05  batctrl-amt-est                         pic s9(7)v99.
    05  batctrl-amt-act                         pic s9(7)v99.
* MC1 - end
    05  batctrl-svc-est                         pic 9(4).
    05  batctrl-svc-act                         pic 9(4).
    05  batctrl-ar-yy-mm                        pic x(6).
* MC1
*   05  batctrl-calc-ar-due                     pic s9(5)v99.
*   05  batctrl-calc-tot-rev                    pic s9(5)v99.
*   05  batctrl-manual-pay-tot                  pic s9(5)v99.
    05  batctrl-calc-ar-due                     pic s9(7)v99.
    05  batctrl-calc-tot-rev                    pic s9(7)v99.
    05  batctrl-manual-pay-tot                  pic s9(7)v99.
* MC1 - end
    05  batctrl-batch-status                    pic x.
    05  batctrl-nbr-claims-in-batch             pic 99.
* MC1
*   05  filler                                  pic x(10).
* MC1 - end
*--------------------------------------------------------------------
*       the 'adj-cd' field above and 'adj-cd-sub-type' below should
*       be moved between 'batch-type' and 'last-claim-nbr' fields
*--------------------------------------------------------------------
*   05  batctrl-adj-cd-sub-type                 pic x.

fd  claims-extra-mstr
*mf     index block contains 11 characters
*mf     data  block contains 22 characters
* 2003/12/08 - MC
*              block contains 22 characters
*        record      contains 22 characters .
              block contains 21 characters
        record      contains 21 characters .
* 2003/12/08 - end
*mf     feedback is feedback-claims-extra.

01  claims-extra-mstr-rec.
    05  clmhdr-rma-clm-nbr.
*!        10  clmhdr-rma-batch-nbr        pic 9(9).
        10  clmhdr-rma-batch-nbr        pic x(8).
        10  clmhdr-rma-claim-nbr        pic 99.
    05  clmhdr-ohip-clm-nbr             pic x(11).

    copy "f002_claim_shadow.fd".
* 2003/oct/20 b.e. - alpha doctor nbr

fd  claim-shadow-mstr.
*       feedback    is feedback-clm-shadow-mstr.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  15
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)

01 clm-shadow-rec.
    05  clm-shadow-key.
        10  clm-shadow-clinic                   pic 99.
        10  clm-shadow-subdivision              pic x.
        10  clm-shadow-patient.
            15  clm-shadow-pat-key-type         pic a.
            15  clm-shadow-pat-key-data.
                20  clm-shadow-pat-key-ohip     pic x(08).
                20  filler                      pic x(07).
*!        10  clm-shadow-batch-nbr                pic 9(09).
        10  clm-shadow-batch-nbr                pic x(08).
        10  clm-shadow-claim-nbr                pic 9(02).
*

    copy "f002_claim_shadow_new.fd".
* 2003/oct/20 b.e. - alpha doctor nbr

fd  claim-shadow-mstr-new
*    block contains 30 characters
*    record contains 30 characters.
    block  contains 29 characters
    record contains 29 characters.

01 clm-shdw-new-rec.
    05  clm-shdw-new-key.
       10  clm-shdw-new-clinic                 pic 99.
       10  clm-shdw-new-subdivision            pic x.
       10  clm-shdw-new-patient.
           15  clm-shdw-new-pat-key-type       pic a.
           15  clm-shdw-new-pat-key-data.
              20  clm-shdw-new-pat-key-ohip   pic x(08).
              20  filler                      pic x(07).
*!      10  clm-shdw-new-batch-nbr              pic 9(09).
      10  clm-shdw-new-batch-nbr              pic x(08).
      10  clm-shdw-new-claim-nbr              pic 9(02).

    copy "f002_claims_mstr.fd".
* 99/jan/15 B.E  - y2k
* 01/nov/06 B.E. - added clmrec-hdr-payroll as redefine of clmrec-hosp
* 03/aug/21 M.C. - increase the file size by 8 characters
* 03/oct/20 b.e. - alpha doctor nbr
* 04/jun/02 b.e. - added field clmdtl-b-batch-number-numeric

fd  claims-mstr
*            block  contains       224 characters
*            record contains       224 characters .
*!             block  contains       232 characters
*!             record contains       232 characters .
             block  contains       228 characters
             record contains       228 characters .
*       feedback is feedback-claims-mstr.


* insert this warning message from "F000_DUPLICATE_FD_WARNING.FD

*----------------  note -----------------------
*-- any changes to this fd must also be made  --
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  16
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*-- to the corresponding "..._D001_..." fd    --
*-- and vice versa                            --
*----------------  note -----------------------
01  claims-mstr-rec.

  05  claims-mstr-hdr-rec.

    10  clmrec-hdr-clinic-nbr-1-2               pic 99.
*!    10  filler                                  pic x(09).
    10  filler                                  pic x(08).
    10  clmrec-zeroed-oma-suff-adj              pic x(06).
    10  clmrec-zeroed-area redefines clmrec-zeroed-oma-suff-adj
                                                pic 9(06).
    10  clmrec-hdr-batch-type                   pic x.
    10  filler                                  pic x(15).
    10  clmrec-hdr-diag-cd                      pic 9(3).
    10  clmrec-hdr-loc                          pic x(4).

    10  clmrec-hdr-hosp                         pic x.
    10  clmrec-hdr-payroll redefines clmrec-hdr-hosp pic x.

    10  clmrec-hdr-agent-cd                     pic 9.
    10  filler                                  pic x(2).
    10  clmrec-hdr-i-o-pat-ind                  pic x.
    10  clmrec-hdr-ohip-id-or-chart             pic x(16).
    10  clmrec-hdr-pat-acronym                  pic x(9).
* reference x(11) + date admit 9(8)
    10  filler                                  pic x(19).

    10  clmrec-doc-dept-nbr                     pic 99.

*  (cash payment date 9(8) + curr payment 9(7) + ped 9(8)  + cycle nbr 9(2)
    10  filler                                  pic x(25).

*      (field now refers to clmhdr-date-sys instead of old
*       clmhdr-date-claim, but name remains the same)
    10  clmrec-hdr-date-claim                   pic x(8).
    10  clmrec-hdr-amt-tech-billed              pic s9(4)v99.
    10  clmrec-hdr-amt-tech-paid                pic s9(4)v99.
    10  clmrec-hdr-tot-claim-ar-oma             pic s9(5)v99.
    10  clmrec-hdr-tot-claim-ar-ohip            pic s9(5)v99.
    10  clmrec-hdr-manual-tape-pymnts           pic s9(5)v99.
    10  clmrec-hdr-status-ohip                  pic xx.
*       (review=1,submitdate=8,confidential=1,servdate=8,origbatchid=11)
* 2003/08/21 - MC - 8 chars for 4 new elements (elig-error, elig-status, serv-er
*   10  filler                                  pic x(29).
*!  10  filler                                  pic x(37).
    10  filler                                  pic x(36).
* 2003/08/21 - end

*-------------------
10  k-key-claims-mstr.
*        key type: 'b' = batch id
*                  'p' = patient id (i key)
    20  clmrec-hdr-b-key-type                        pic x.
    20  clmrec-hdr-b-data.
*!        25  clmrec-hdr-b-batch-num                   pic 9(9).
        25  clmrec-hdr-b-batch-num                   pic x(8).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  17
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        25  clmrec-hdr-b-batch-nbr redefines clmrec-hdr-b-batch-num.
            30  clmrec-hdr-b-clinic-nbr-1-2          pic 99.
*!            30  clmrec-hdr-b-doc-nbr                 pic 9(4).
            30  clmrec-hdr-b-doc-nbr                 pic x(3).
            30  clmrec-hdr-b-doc-nbr-r redefines clmrec-hdr-b-doc-nbr.
*!                35  clmrec-hdr-b-doc-nbr-1           pic 9.
*!                35  clmrec-hdr-b-doc-nbr-2-4         pic 999.
                35  clmrec-hdr-b-doc-nbr-2-4         pic xxx.
*           ( added so that the new batch number can be accessed
*             rather than the old  week-day combination )
            30  clmrec-hdr-b-batch-number.
                35  clmrec-hdr-b-week                pic 99.
                35  clmrec-hdr-b-day                 pic 9.
        25  clmrec-hdr-b-claim-nbr                   pic 99.
        25  clmrec-hdr-b-oma-cd                      pic x999.

        25  clmrec-hdr-b-oma-suff                    pic x.
        25  clmrec-hdr-b-adj-nbr                     pic x.
    20  clmrec-hdr-b-data-r  redefines  clmrec-hdr-b-data.
        25  clmrec-hdr-b-pat-id                      pic x(15).
*!        25  filler                                   pic xx.
        25  filler                                   pic x.

10  k-clmdtl-p-claims-mstr.
    20  clmdtl-p-key-type                        pic x.
    20  clmdtl-p-data.
        25  clmdtl-p-batch-nbr.
            30  clmdtl-p-clinic-nbr-1-2      pic  99.
*!            30  clmdtl-p-doc-nbr             pic 9(4).
            30  clmdtl-p-doc-nbr             pic x(3).
            30  clmdtl-p-week                pic 99.
            30  clmdtl-p-day                 pic 9.
        25  clmdtl-p-claim-nbr               pic 99.
        25  clmdtl-p-oma-cd                  pic x999.
        25  clmdtl-p-oma-suff                pic x.
        25  clmdtl-p-adj-nbr                 pic x.
*-------------------------

01  claims-mstr-dtl-rec.

*!    10  filler                                  pic x(11).
    10  filler                                  pic x(10).
    10  clmrec-dtl-oma-cd                       pic x(4).
    10  filler                                  pic x(5).
    10  clmrec-dtl-agent-cd                     pic  9.
    10  clmrec-dtl-adj-cd                       pic  x.
    10  clmrec-dtl-nbr-serv                     pic 99.
    10  clmrec-dtl-sv-date                      pic x(8).
    10  clmrec-dtl-consec-dates occurs 3 times.
        15  clmrec-dtl-sv-nbr                   pic 9.
        15  filler                              pic xx.
    10  clmrec-dtl-amt-tech-billed              pic s9(4)v99.
    10  clmrec-dtl-fee-oma                      pic s9(5)v99.
    10  clmrec-dtl-fee-ohip                     pic s9(5)v99.
* 2003/08/21 - MC
*   10  filler                                  pic x(127).
*!    10  filler                                  pic x(135).
    10  filler                                  pic x(134).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  18
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
* 2003/08/21 - end

*mf added below copy to include 'external' key within record.
*mfcopy "f002_key_claims_mstr_mf.ws".
*-------------------
10  key-claims-mstr.
*        key type: 'b' = batch id
*                  'p' = patient id (i key)
    20  clmdtl-b-key-type                        pic x.
    20  clmdtl-b-data.
*!        25  clmdtl-b-batch-num                   pic 9(9).
        25  clmdtl-b-batch-num                   pic x(8).
        25  clmdtl-b-batch-nbr redefines clmdtl-b-batch-num.
            30  clmdtl-b-clinic-nbr-1-2          pic 99.
*!            30  clmdtl-b-doc-nbr                 pic 9(4).
            30  clmdtl-b-doc-nbr                 pic x(3).
            30  clmdtl-b-doc-nbr-r redefines clmdtl-b-doc-nbr.
*!                35  clmdtl-b-doc-nbr-1           pic 9.
*!                35  clmdtl-b-doc-nbr-2-4         pic 999.
                35  clmdtl-b-doc-nbr-2-4         pic xxx.
*           ( added so that the new batch number can be accessed
*             rather than the old  week-day combination )
            30  clmdtl-b-batch-number.
                35  clmdtl-b-week                pic 99.
                35  clmdtl-b-day                 pic 9.
            30  clmdtl-b-batch-number-numeric redefines  clmdtl-b-batch-number
                                                pic 9(3).

        25  clmdtl-b-claim-nbr                   pic 99.
        25  clmdtl-b-oma-cd                      pic x999.

        25  clmdtl-b-oma-suff                    pic x.
        25  clmdtl-b-adj-nbr                     pic x.
    20  clmdtl-b-data-r  redefines  clmdtl-b-data.
        25  clmdtl-b-pat-id                      pic x(15).
*!        25  filler                               pic xx.
        25  filler                               pic x.

10  clmdtl-p-claims-mstr.
    20  clmdtl-p-key-type                        pic x.
    20  clmdtl-p-data.
        25  clmdtl-p-batch-nbr.
            30  clmdtl-p-clinic-nbr-1-2      pic  99.
*!            30  clmdtl-p-doc-nbr             pic 9(4).
            30  clmdtl-p-doc-nbr             pic x(3).
            30  clmdtl-p-week                pic 99.
            30  clmdtl-p-day                 pic 9.
        25  clmdtl-p-claim-nbr               pic 99.
        25  clmdtl-p-oma-cd                  pic x999.
        25  clmdtl-p-oma-suff                pic x.
        25  clmdtl-p-adj-nbr                 pic x.
*-------------------------

    copy "f002_claims_mstr_new.fd".
*  98/dec/01 D.B.       - y2k
*  99/jan/15 B.E.       - y2k
*  01/nov/06 B.E.       - added clmrec-hdr-payroll as redefine f
*                         clmrec-hdr-hosp-new
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  19
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*  03/aug/21 M.C.       - increase the file size by 8 characters
*  03/oct/20 b.e.       - alpha doctor nbr

*
fd  claims-mstr-new
*!             block  contains       232 characters
*!             record contains       232 characters .
             block  contains       228 characters
             record contains       228 characters .


* insert this warning message from "f000_duplicate_fd_warning.fd"

*+++++++++++++++++ N O T E ++++++++++++++++++
*                                           *
* any changes to this fd must also be made  *
* to the corresponding "..._d001_..." fd    *
* and vice versa                            *
*                                           *
*+++++++++++++++++ N O T E ++++++++++++++++++


01  claims-mstr-rec-new.

  03  claims-mstr-hdr-rec-new.

    05  clmrec-hdr-clinic-nbr-1-2-new           pic 99.
*!    05  filler                                  pic x(09).
    05  filler                                  pic x(08).
    05  clmrec-zeroed-oma-suff-adj-new          pic x(06).
    05  clmrec-zeroed-area-new redefines clmrec-zeroed-oma-suff-adj-new
                                                pic 9(06).
    05  clmrec-hdr-batch-type-new               pic x.
    05  filler                                  pic x(15).
    05  clmrec-hdr-diag-cd-new                  pic 9(3).
    05  clmrec-hdr-loc-new                      pic x(4).

    05  clmrec-hdr-hosp-new                     pic x.
    05  clmrec-hdr-payroll redefines clmrec-hdr-hosp-new pic x.

    05  clmrec-hdr-agent-cd-new                 pic 9.
    05  filler                                  pic x(2).
    05  clmrec-hdr-i-o-pat-ind-new              pic x.
    05  clmrec-hdr-pat-ikey-new                 pic x(16).
    05  clmrec-hdr-pat-acronym-new              pic x(9).

* reference x(11) + date admit 9(8)
    05  filler                                  pic x(19).

    05  clmrec-doc-dept-nbr-new                 pic 99.

*  (cash payment date 9(8) + curr payment 9(7) + ped 9(8)  + cycle nbr 9(2)
    05  filler                                  pic x(25).

*      (field now refers to clmhdr-date-sys instead of old
*       clmhdr-date-claim, but name remains the same)
    05  clmrec-hdr-date-claim-new                pic x(8).

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  20
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  clmrec-hdr-amt-tech-billed-new           pic s9(4)v99.
    05  clmrec-hdr-amt-tech-paid-new             pic s9(4)v99.
    05  clmrec-hdr-tot-claim-ar-oma-n            pic s9(5)v99.
    05  clmrec-hdr-tot-claim-ar-ohip-n           pic s9(5)v99.
    05  clmrec-hdr-tape-payments-new             pic s9(5)v99.
    05  clmrec-hdr-status-ohip-new               pic xx.

* 2003/08/21 - MC - 8 chars for 4 new elements (elig-error, elig-status, serv-er
*   05  filler                                  pic x(29).
*!  05  filler                                  pic x(37).
    05  filler                                  pic x(36).
* 2003/08/21 - end

05  k-key-claims-mstr-new.
*        key type: 'b' = batch id
*                  'p' = patient id (i key)
    20  clmrec-hdr-b-key-type                        pic x.
    20  clmrec-hdr-b-data.
*!      25  clmrec-hdr-b-batch-num                   pic 9(9).
        25  clmrec-hdr-b-batch-num                   pic x(8).
        25  clmrec-hdr-b-batch-nbr redefines clmrec-hdr-b-batch-num.
            30  clmrec-hdr-b-clinic-nbr-1-2          pic 99.
*!            30  clmrec-hdr-b-doc-nbr                 pic 9(4).
            30  clmrec-hdr-b-doc-nbr                 pic x(3).
            30  clmrec-hdr-b-doc-nbr-r redefines clmrec-hdr-b-doc-nbr.
*!                35  clmrec-hdr-b-doc-nbr-1           pic 9.
*!                35  clmrec-hdr-b-doc-nbr-2-4         pic 999.
                35  clmrec-hdr-b-doc-nbr-2-4         pic xxx.
*           ( added so that the new batch number can be accessed
*             rather than the old  week-day combination )
            30  clmrec-hdr-b-batch-number.
                35  clmrec-hdr-b-week                pic 99.
                35  clmrec-hdr-b-day                 pic 9.
        25  clmrec-hdr-b-claim-nbr                   pic 99.
        25  clmrec-hdr-b-oma-cd                      pic x999.

        25  clmrec-hdr-b-oma-suff                    pic x.
        25  clmrec-hdr-b-adj-nbr                     pic x.
    20  clmrec-hdr-b-data-r  redefines  clmrec-hdr-b-data.
        25  clmrec-hdr-b-pat-id                      pic x(15).
*!        25  filler                                   pic xx.
        25  filler                                   pic x.

05  k-clmdtl-p-claims-mstr-new.
    20  clmdtl-p-key-type                        pic x.
    20  clmdtl-p-data.
        25  clmdtl-p-batch-nbr.
            30  clmdtl-p-clinic-nbr-1-2      pic  99.
*!            30  clmdtl-p-doc-nbr             pic 9(4).
            30  clmdtl-p-doc-nbr             pic x(3).
            30  clmdtl-p-week                pic 99.
            30  clmdtl-p-day                 pic 9.
        25  clmdtl-p-claim-nbr               pic 99.
        25  clmdtl-p-oma-cd                  pic x999.
        25  clmdtl-p-oma-suff                pic x.
        25  clmdtl-p-adj-nbr                 pic x.
*-------------------------

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  21
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
01  claims-mstr-dtl-rec-new.

*!    05  filler                                   pic x(11).
    05  filler                                   pic x(10).
    05  clmrec-dtl-oma-cd-new                    pic x(4).
    05  filler                                   pic x(5).
    05  clmrec-dtl-agent-cd-new                  pic  9.
    05  clmrec-dtl-adj-cd-new                    pic  x.
    05  clmrec-dtl-nbr-serv-new                  pic 99.
    05  clmrec-dtl-sv-date-new                   pic x(8).
    05  clmrec-dtl-consec-dates-new occurs 3 times.
        10  clmrec-dtl-sv-nbr-new               pic 9.
        10  filler                              pic xx.
    05  clmrec-dtl-amt-tech-new                 pic s9(4)v99.
    05  clmrec-dtl-fee-oma-new                  pic s9(5)v99.
    05  clmrec-dtl-fee-ohip-new                 pic s9(5)v99.
* 2003/08/21 - MC
*   05  filler                                  pic x(127).
*!  05  filler                                  pic x(135).
    05  filler                                  pic x(134).
* 2003/08/21 - end

*mf added below copy to include 'external' key within record.
*mfcopy "f002_key_claims_mstr_mf.ws".
*-------------------
05  key-claims-mstr-new.
*        key type: 'b' = batch id
*                  'p' = patient id (i key)
    20  clmdtl-b-key-type                        pic x.
    20  clmdtl-b-data.
*!      25  clmdtl-b-batch-num                   pic 9(9).
        25  clmdtl-b-batch-num                   pic x(8).
        25  clmdtl-b-batch-nbr redefines clmdtl-b-batch-num.
            30  clmdtl-b-clinic-nbr-1-2          pic 99.
*!            30  clmdtl-b-doc-nbr                 pic 9(4).
            30  clmdtl-b-doc-nbr                 pic x(3).
            30  clmdtl-b-doc-nbr-r redefines clmdtl-b-doc-nbr.
*!                35  clmdtl-b-doc-nbr-1           pic 9.
*!                35  clmdtl-b-doc-nbr-2-4         pic 999.
                35  clmdtl-b-doc-nbr-2-4         pic xxx.
*           ( added so that the new batch number can be accessed
*             rather than the old  week-day combination )
            30  clmdtl-b-batch-number.
                35  clmdtl-b-week                pic 99.
                35  clmdtl-b-day                 pic 9.
        25  clmdtl-b-claim-nbr                   pic 99.
        25  clmdtl-b-oma-cd                      pic x999.

        25  clmdtl-b-oma-suff                    pic x.
        25  clmdtl-b-adj-nbr                     pic x.
    20  clmdtl-b-data-r  redefines  clmdtl-b-data.
        25  clmdtl-b-pat-id                      pic x(15).
*!        25  filler                              pic xx.
        25  filler                              pic x.

05  clmdtl-p-claims-mstr-new.
    20  clmdtl-p-key-type                        pic x.
    20  clmdtl-p-data.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  22
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        25  clmdtl-p-batch-nbr.
            30  clmdtl-p-clinic-nbr-1-2      pic  99.
*!            30  clmdtl-p-doc-nbr             pic 9(4).
            30  clmdtl-p-doc-nbr             pic x(3).
            30  clmdtl-p-week                pic 99.
            30  clmdtl-p-day                 pic 9.
        25  clmdtl-p-claim-nbr               pic 99.
        25  clmdtl-p-oma-cd                  pic x999.
        25  clmdtl-p-oma-suff                pic x.
        25  clmdtl-p-adj-nbr                 pic x.
*-------------------------

    copy "f002_suspend_address.fd".
* file: f002_suspend_address.fd

* 98/dec/01 D.B.        - y2k
* 20011/mar/20 brad1 - increase sizes to fit oscar

fd  suspend-address
* y2k record contains 126 characters .
*brad1      record contains 128 characters .
*brad add 46 (16 surname + 20 first name + 10 phone nbr)
*brad2 add 3 more for postal code going from 6 to 9
*       record contains 174 characters.
      record contains 177 characters.
*mf      feedback is feedback-suspend-addr.

01  suspend-address-rec.

    05  addr-address-line-1                   pic x(25).
    05  addr-address-line-2                   pic x(25).
    05  addr-address-line-3                   pic x(25).
*brad1  05  addr-postal-code                      pic x(6).
    05  addr-postal-code                      pic x(9).

*   brad1
*    05  addr-surname                         pic x(9).
    05  addr-surname                          pic x(25).
*    05  addr-first-name                      pic x(5).
    05  addr-first-name                       pic x(25).

    05  addr-birth-date.
* y2k
*       10  addr-birth-yy                     pic 99.
        10  addr-birth-yy                     pic 9(4).
        10  addr-birth-mm                     pic 99.
        10  addr-birth-dd                     pic 99.
    05  addr-sex                              pic x.
* brad1
*    05  addr-phone-no                         pic x(10).
    05  addr-phone-no                         pic x(20).

    05  suspend-addr-id.
        10  addr-doc-pract-nbr                pic 9(6).
        10  addr-accounting-nbr               pic x(8).

    copy "f002_suspend_dtl.fd".
* file: f002_suspend_dtl.fd
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  23
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)

* 98/dec/01 D.B. - y2k
* 00/sep/05 B.E. - added redefine of clmdtl-consecutive-sv-dateS
* 03/oct/20 b.e. - alpha doctor nbr

fd   suspend-dtl
* y2k  record contains 89 characters .
*!       record contains 93 characters .
       record contains 92 characters .

01  suspend-dtl-rec.

    05  clmdtl-id.
*!        10  clmdtl-batch-nbr                    pic 9(9).
        10  clmdtl-batch-nbr                    pic x(8).
        10  clmdtl-claim-nbr                    pic 9(2).
        10  clmdtl-oma-cd                       pic xxxx.
        10  clmdtl-oma-suff                     pic x.
        10  clmdtl-adj-nbr                      pic 9.
    05  clmdtl-det-rec.
        10  clmdtl-rev-group-cd                 pic xxx.
        10  clmdtl-agent-cd                     pic 9.
        10  clmdtl-adj-cd                       pic x.
        10  clmdtl-nbr-serv                     pic 99.
        10  clmdtl-nbr-serv-alpha redefines clmdtl-nbr-serv pic xx.
        10  clmdtl-sv-date.
* y2k         15  clmdtl-sv-yy                    pic 99.
            15  clmdtl-sv-yy                    pic 9999.
            15  clmdtl-sv-mm                    pic 99.
            15  clmdtl-sv-dd                    pic 99.
        10  clmdtl-consec-dates.
            15  clmdtl-consecutive-sv-date  occurs 3 times.
*mf                                              pic 999.
*                                             pic x(3).
*                   (00/sep/05 B.E. added redefine )
                20  clmdtl-sv-nbr               pic 9.
                20  clmdtl-sv-day               pic xx.

        10  clmdtl-amt-tech-billed              pic s9(4)v99.
        10  clmdtl-fee-oma                      pic s9(5)v99.
        10  clmdtl-fee-oma-alpha redefines clmdtl-fee-oma pic x(7).
        10  clmdtl-fee-ohip                     pic s9(5)v99.
        10  clmdtl-fee-ohip-alpha redefines clmdtl-fee-ohip pic x(7).
* Y2k   10  clmdtl-date-period-end              pic x(6).
        10  clmdtl-date-period-end              pic x(8).
        10  clmdtl-cycle-nbr                    pic 999.
        10  clmdtl-diag-cd                      pic 999.
        10  clmdtl-diag-cd-alpha
                redefines clmdtl-diag-cd        pic xxx.
        10  clmdtl-diag-cd-local                pic 999.
        10  clmdtl-diag-cd-local-alpha
                  redefines clmdtl-diag-cd-local  pic xxx.

    05  clmdtl-status                           pic x.
    05  suspend-dtl-id.
        10  clmdtl-doc-pract-nbr                pic 9(6).
        10  clmdtl-accounting-nbr              pic x(8).

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  24
*                      createfiles.cbl                               )
    copy "f002_suspend_hdr.fd".
* file: f002_suspend_hdr.fd

*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*  yy/mm/dd  whom  why
*  --------  ----  ---
*
*  90/sep/27 B.E.  - added redefine for clmhdr-claim-source-cd
*  98/dec/01 D.B.  - y2k
*  99/jan/15 B.E.  - correct record length, alignment cosmetics
*  99/jan/25 B.E.  - add 2bytes to reference field to allow 4 digit year
*  00/jan/06 B.A.  - add 1 byte confidential claim flag
*  00/sep/14 B.E.  - add clmhdr-nbr-suspend-desc-recs that counts the
*                    number of description records associated with hdr
*  00/sep/21 B.E.  - add clmhdr-adj-cd-sub-type to indicate "W"eb or
*                    "D"iskette source of claim
*  02/oct/24 M.C.  - there are two "clmhdr-adj-cd-sub-type" defined, substitute
*                    the second one with filler
*  03/oct/20 b.e.  - alpha doctor nbr
*  10/aug/11 M.C.  - add a new index suspend-hdr-acr.
*  11/jun/15 MC1   - include the field size clmhdr-patient-surname from x(9) to
*
*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

fd suspend-hdr
*      record   contains 278 characters.
*     record  contains 280 characters.
*!     record  contains 281 characters.
*     record  contains 279 characters.
*     record  contains 301 characters.
     record  contains 317 characters.

01  suspend-hdr-rec.

    05  clmhdr-claim-id.
*!       10  clmhdr-batch-nbr                    pic 9(9).
       10  clmhdr-batch-nbr                    pic x(8).
       10  clmhdr-batch-nbr-r1 redefines clmhdr-batch-nbr.
           15  clmhdr-clinic-nbr-1-2           pic 99.
*!           15  clmhdr-doc-nbr                  pic 9(4).
           15  clmhdr-doc-nbr                  pic x(3).
           15  clmhdr-week                     pic 99.
           15  clmhdr-day                      pic 9.
       10  clmhdr-claim-nbr                    pic 9(2).
       10  clmhdr-zeroed-oma-suff-adj.
           15  clmhdr-adj-oma-cd               pic x999.
           15  clmhdr-adj-oma-suff             pic x.
           15  clmhdr-adj-adj-nbr              pic 9.
    05  clmhdr-batch-type                      pic x.
    05  clmhdr-adj-cd-sub-type                 pic x.
    05  clmhdr-claim-source-cd    redefines clmhdr-adj-cd-sub-type
                                               pic x.
    05  clmhdr-doc-nbr-ohip                    pic 9(6).
    05  clmhdr-doc-nbr-ohip-alpha redefines
        clmhdr-doc-nbr-ohip                    pic x(6).
    05  clmhdr-doc-spec-cd                     pic 9(2).
    05  clmhdr-doc-spec-cd-alpha redefines
        clmhdr-doc-spec-cd                     pic x(2).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  25
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  clmhdr-refer-doc-nbr                   pic 9(6).
    05  clmhdr-refer-doc-nbr-alpha redefines
        clmhdr-refer-doc-nbr                   pic x(6).
    05  clmhdr-diag-cd                         pic 9(3).
    05  clmhdr-diag-cd-alpha redefines
        clmhdr-diag-cd                         pic x(3).
    05  clmhdr-loc                             pic x999.
    05  clmhdr-hosp                            pic x.
    05  clmhdr-agent-cd                        pic x.
    05  clmhdr-adj-cd                          pic x.
    05  clmhdr-tape-submit-ind                 pic x.
    05  clmhdr-i-o-pat-ind                     pic x.
    05  clmhdr-pat-ohip-id-or-chart.
        10  clmhdr-pat-key-type                pic a.
        10  clmhdr-pat-key-data.
            15  clmhdr-pat-key-ohip            pic x(8).
            15  filler                         pic x(7).
    05  clmhdr-pat-acronym.
        10  clmhdr-pat-acronym6                pic x(6).
        10  clmhdr-pat-acronym3                pic x(3).
    05  clmhdr-reference.
        10  clmhdr-ref1                        pic x.
        10  clmhdr-ref2                        pic x.
        10  clmhdr-ref3                        pic x.
        10  clmhdr-ref4                        pic x.
        10  clmhdr-ref5                        pic x.
        10  clmhdr-ref6                        pic x.
        10  clmhdr-ref7                        pic x.
        10  clmhdr-ref8                        pic x.
        10  clmhdr-ref9                        pic x.
        10  clmhdr-ref10                       pic x.
        10  clmhdr-ref11                       pic x.
    05  clmhdr-date-admit.
        10  clmhdr-date-admit-yy               pic x(4).
        10  clmhdr-date-admit-yy-r redefines
            clmhdr-date-admit-yy.
            15 clmhdr-date-admit-yy-12         pic 99.
            15 clmhdr-date-admit-yy-34         pic 99.
        10  clmhdr-date-admit-mm               pic 99.
        10  clmhdr-date-admit-dd               pic 99.
    05  clmhdr-doc-dept                        pic 99.
    05  clmhdr-date-cash-tape-payment          pic x(8).
    05  clmhdr-direct-bills-clm-info  redefines clmhdr-date-cash-tape-payment.
        10  clmhdr-msg-nbr                     pic xx.
        10  clmhdr-reprint-flag                pic x.
        10  clmhdr-sub-nbr                     pic x.
        10  clmhdr-auto-logout                 pic x.
        10  clmhdr-fee-complex                 pic x.
        10  filler                             pic x(2).
    05  clmhdr-curr-payment                    pic s9(5)v99.
    05  clmhdr-date-period-end.
        10  clmhdr-period-end-yy               pic 9(4).
        10  clmhdr-period-end-mm               pic 99.
        10  clmhdr-period-end-dd               pic 99.
    05  clmhdr-cycle-nbr                       pic 99.
    05  clmhdr-date-sys                        pic x(8).
    05  clmhdr-amt-tech-billed                 pic s9(4)v99.
    05  clmhdr-amt-tech-paid                   pic s9(4)v99.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  26
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  clmhdr-tot-claim-ar-oma                pic s9(5)v99.
    05  clmhdr-tot-claim-ar-ohip               pic s9(5)v99.
    05  clmhdr-manual-tape-payments            pic s9(5)v99.
    05  clmhdr-status-ohip                     pic xx.
*!  05  clmhdr-orig-batch-id                   pic x(11).
    05  clmhdr-orig-batch-id                   pic x(10).
    05  clmhdr-status                          pic x.

*   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*            dyad  extensions to ohip standard format

    05  clmhdr-health-care-nbr                  pic x(12).
    05  clmhdr-health-care-ver                  pic x(02).
    05  clmhdr-health-care-prov                 pic x(02).
    05  clmhdr-relationship                     pic x(01).
*   for new ohip format, relationship is not used, hence manual
*   review is used here.
    05  clmhdr-manual-review redefines clmhdr-relationship   pic x(01).
*   05  clmhdr-patient-surname                  pic x(09).
    05  clmhdr-patient-surname                  pic x(25).
    05  clmhdr-subscr-initials                  pic x(03).
    05  clmhdr-wcb-claim-nbr                    pic x(09).
    05  clmhdr-wcb-accident-date              pic x(08).
    05  clmhdr-wcb-employer-name-addr         pic x(40).
    05  clmhdr-wcb-employer-postal-cd         pic x(06).

*       (00/02/08 B.A.)
    05  clmhdr-confidential-flag              pic x(1).
*       (00/sep/14 B.E.)
    05  clmhdr-nbr-suspend-desc-recs          pic 9(2).
* 2002/10/24 -- MC
*    05  clmhdr-adj-cd-sub-type               pic x(1).
    05  filler                                pic x(1).
* 2002/10/24 - end

    05  suspend-hdr-id.
        10  clmhdr-doc-pract-nbr              pic 9(6).
        10  clmhdr-accounting-nbr             pic x(8).

* 2010/08/11 - MC - add new index
    05  suspend-hdr-acr.
        10  susp-hdr-doc-nbr                    pic x(3).
        10  susp-hdr-clinic-nbr                 pic 99.
*        10  susp-hdr-acronym                   pic x(9).
        10  susp-hdr-acronym.
            15  susp-hdr-acronym-1-6            pic x(6).
            15  susp-hdr-acronym-7-9            pic x(3).
        10  susp-hdr-accounting-nbr             pic x(8).
* 2010/08/11 - end
    copy "f002_suspend_desc.fd".
* file: f002_suspend_desc.fd

*  00/sep/14 B.E. - original

fd   suspend-desc
       record contains 87 characters .

01  suspend-desc-rec.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  27
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)

    05  clmdtl-suspend-desc                     pic x(70).
    05  clmdtl-status                           pic x.

    05  suspend-dtl-id.
        10  clmdtl-doc-pract-nbr                pic 9(6).
        10  clmdtl-accounting-nbr               pic x(8).
        10  clmdtl-line-no                      pic 99.


*****    copy "f010_new_patient_file.fd".
    copy "f010_patient_mstr.fd".
* file:  f010_patient_mstr.fd
* modification history
* --------------------
* 98/dec/01 D.B.        -y2k
* 99/jan/01 B.E.        - switch expiry date from mmyy to yymm
* 99/Jan/21 M.C.        - change pat-reserve-for-future from 21 to 1, andd
*                         pat-last-mod-by, change size from 330 to 315
* 99/mar/16 B.E.        - added pat-health-nbr-unvalidated,
*                         pat-version-cd-unvalidated, and
*                         pat-ohip-validiation-status for additional 13 bytes
*                         plus increase given name from 12 to 17 and surname
*                         from 15 to 25 characters for an addition 15 bytes for
*                         a total increase in sisze 13+15 = 28 bytes.
* 2000/mar/24 B.E.      - redefined pat-version-cd into 1 and 2 characters.
* 2002/may/10 B.E.      - phone-nbr from 7 to 20
*                       - added 4 addition hospital chart nbrs:
*                               pat-chart-nbr   = MUMC
*                               pat-chart-nbr-2 = CHEDOKE
*                               pat-chart-nbr-3 = HENDERSON
*                               pat-chart-nbr-4 = GENERAL
*                               pat-chart-nbr-5 = ST JOES
*                       - changed subscr-addr, subscr-addr-unvalidated and
*                         pat-old-addr elements to:
*                               addr1/2/3 from 21 to 30
*                        - change country from x(20) to x(1)
*                        - added an 'address' prov-cd x(2) as compared to the
*                          health insurance card prov-cd
* 2002/sep/13 B.E.      - postal code from 6 to 10
* 2003/apr/09 M.C.      - substitute pat-reserve-for-future with pat-obec-status
* 2003/nov/24 M.C.      - change pat-last-doc-nbr-seen from 9(6) to x(3)
*
* Note: The following files must be kept in sync:
*               f010_patient_mstr.fd
*               f010_patient_mstr_new.fd
*               f010_patient_mstr.ws


fd  pat-mstr
*          record      contains 343 characters .
*       record      contains 379 characters [+10(addr3) +4(pc) -19(country)]
*       record      contains 394 characters .  [ - 3(last doc seen)]
        record      contains 391 characters .
*       feedback is feedback-pat-mstr.

01 pat-mstr-rec.

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  28
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  pat-acronym.
        10  pat-acronym-first6          pic x(6).
        10  pat-acronym-last3           pic xxx.

    05  pat-ohip-mmyy.
        10  pat-ohip-out-prov.
            15  pat-ohip-nbr            pic 9(8).
            15  pat-mm                  pic 99.
            15  pat-yy                  pic 99.
        10  filler                      pic x(3).
    05  pat-ohip-mmyy-r  redefines pat-ohip-mmyy.
        10  pat-direct-alpha.
            15  pat-alpha1              pic x.
            15  pat-alpha2-3            pic xx.
        10  pat-direct-yy               pic xx.
        10  pat-direct-mm               pic xx.
        10  pat-direct-dd               pic xx.
        10  pat-direct-filler           pic x(6).

*       (MUMC)
    05  pat-chart-nbr.
*        10  pat-chart-m                        pic x.
*        10  pat-chart-yy               pic xx.
*        10  pat-chart-mm               pic xx.
*        10  pat-chart-4-5              pic x(5).
*        10  filler                     pic x(5).
        10  pat-chart-1st-char          pic x.
        10  pat-chart-remainder         pic x(9).

*       (CHEDOKE)
    05  pat-chart-nbr-2.
        10  pat-chart-1st-char          pic x.
        10  pat-chart-remainder         pic x(9).

*       (HENDERSON)
    05  pat-chart-nbr-3.
        10  pat-chart-1st-char          pic x.
        10  pat-chart-remainder         pic x(9).
*       (GENERAL)
    05  pat-chart-nbr-4.
        10  pat-chart-1st-char          pic x.
        10  pat-chart-remainder         pic x(9).
*       (ST JOES)
    05  pat-chart-nbr-5.
        10  pat-chart-1st-char          pic x.
        10  pat-chart-remainder         pic x(10).

    05  pat-full-name.
*          05  pat-surname                              pic x(15).
        10  pat-surname                 pic x(25).
        10  pat-surname-r  redefines  pat-surname.
            15  pat-surname-first6      pic x(6).
* MC        15  pat-surname-last14      pic x(14).
            15  pat-surname-last19      pic x(19).
        10  pat-surname-rr  redefines  pat-surname.
            15  pat-surname-first3      pic x(3).
            15  pat-surname-last22      pic x(22).

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  29
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*           05  pat-given-name                  pic x(12).
        10  pat-given-name              pic x(17).
        10  pat-given-name-r  redefines  pat-given-name.
            15  pat-given-name-first3   pic xxx.
            15  pat-given-name-last14   pic x(14).
        10  pat-given-name-rr redefines pat-given-name-r.
            15  pat-given-name-first1   pic x.
            15  filler                  pic x(16).

    05  pat-init.
        10  pat-init1                   pic x.
        10  pat-init2                   pic x.
        10  pat-init3                   pic x.
    05  pat-location-field.
        10  pat-location-field-1-3      pic x(3).
        10  filler                      pic x(1).
* 2003/11/24 - MC
*    05  pat-last-doc-nbr-seen          pic 9(6).
    05  pat-last-doc-nbr-seen           pic x(3).
* 2003/11/24 - end

    05  pat-birth-date                  pic 9(8).
    05  pat-birth-date-r  redefines  pat-birth-date.
        10  pat-birth-date-yy           pic 9999.
        10  pat-birth-date-mm           pic 99.
        10  pat-birth-date-dd           pic 99.
    05  pat-date-last-maint             pic 9(8).
    05  pat-date-last-maint-r redefines pat-date-last-maint.
        10  pat-date-last-maint-yy      pic 9999.
        10  pat-date-last-maint-mm      pic 99.
        10  pat-date-last-maint-dd      pic 99.
    05  pat-date-last-visit             pic 9(8).
    05  pat-date-last-visit-r redefines pat-date-last-visit.
        10  pat-date-last-visit-yy      pic 9999.
        10  pat-date-last-visit-mm      pic 99.
        10  pat-date-last-visit-dd      pic 99.
    05  pat-date-last-admit             pic 9(8).
    05  pat-date-last-admit-r redefines pat-date-last-admit.
        10  pat-date-last-admit-yy      pic 9999.
        10  pat-date-last-admit-mm      pic 99.
        10  pat-date-last-admit-dd      pic 99.
     05  pat-phone-nbr.
        10  pat-phone-nbr-first3        pic 999.
        10  pat-phone-nbr-last4         pic 9(4).
        10  pat-phone-nbr-remainder     pic x(13).

    05  pat-total-nbr-visits            pic 9(5).
    05  pat-total-nbr-claims            pic 9(5).
    05  pat-sex                         pic x.
    05  pat-in-out                      pic x.
    05  pat-nbr-outstanding-claims      pic 9(4).
    05  key-pat-mstr.
        10  pat-i-key                   pic x.
        10  pat-con-nbr                 pic 99.
        10  pat-i-nbr                   pic 9(12).
        10  filler                      pic x.
    05  pat-health-nbr                  pic 9(10).
    05  pat-version-cd.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  30
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  pat-version-cd-1            pic x.
        10  pat-version-cd-2            pic x.
    05  pat-health-65-ind               pic x.
    05  pat-expiry-date.
        10  pat-expiry-yy               pic 99.
        10  pat-expiry-mm               pic 99.
    05  pat-prov-cd                     pic xx.

*          05  subscr-addr1                     pic x(21).
    05  subscr-addr1                    pic x(30).
*          05  subscr-addr2                     pic x(21).
    05  subscr-addr2                    pic x(30).
*          05  subscr-addr3                     pic x(21).
    05  subscr-addr3                    pic x(30).

    05  subscr-prov-cd                  pic xx.

* 2002/sep/13 B.E.
*    05  subscr-postal-cd               pic x(6).
    05  subscr-postal-cd                pic x(10).
    05  subscr-postal-cd-r  redefines  subscr-postal-cd.
        10  subscr-post-code1.
            15  subscr-post-cd1         pic x.
            15  subscr-post-cd2         pic 9.
            15  subscr-post-cd3         pic x.
        10  subscr-post-code2.
            15  subscr-post-cd4         pic 9.
            15  subscr-post-cd5         pic x.
            15  subscr-post-cd6         pic 9.
        10  filler                      pic x(4).

    05  subscr-msg-data.
        10  subscr-msg-nbr              pic xx.
        10  subscr-date-msg-nbr-eff-to          pic 9(8).
        10  subscr-date-msg-nbr-eff-to-r
              redefines subscr-date-msg-nbr-eff-to.
            15  subscr-date-msg-nbr-eff-to-yy   pic 9999.
            15  subscr-date-msg-nbr-eff-to-mm   pic 99.
            15  subscr-date-msg-nbr-eff-to-dd   pic 99.
        10  subscr-date-msg-nbr-eff-to-r1
              redefines subscr-date-msg-nbr-eff-to-r
                                                pic x(8).
        10  subscr-date-last-statement          pic 9(8).
        10  subscr-date-last-statement-r
              redefines subscr-date-last-statement.
            15  subscr-date-last-statement-yy           pic 9999.
            15  subscr-date-last-statement-mm           pic 99.
            15  subscr-date-last-statement-dd           pic 99.
    05  subscr-auto-update                              pic x.
    05  pat-last-mod-by                                 pic x(5).
    05  pat-date-last-elig-mailing                      pic 9(8).
    05  pat-date-last-elig-maint                        pic 9(8).
    05  pat-last-birth-date                             pic 9(8).
    05  pat-last-version-cd                             pic x(2).
    05  pat-mess-code                                   pic x(3).
***    05  pat-country                                     pic x(20).
    05  pat-country                                     pic x(1).
    05  pat-no-of-letter-sent                           pic 99.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  31
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  pat-dialysis                                    pic x(1).

***    05  pat-health-nbr-unvalidated                      pic 9(10).
***    05  pat-version-cd-unvalidated                      pic xx.
    05  pat-ohip-validiation-status                     pic x.

* 2003/04/09 - MC
*    05  pat-reserve-for-future                         pic x(1).
    05  pat-obec-status                                 pic x(1).
* 2004/04/09 - end

    copy "f011_pat_mstr_elig_history.fd".
* file:  f011-pat-mstr-elig-history.fd
* modification history
* --------------------
* 2000/may/17 B.E.      - original

fd pat-elig-history
  record contains 76 characters.

01 f011-pat-mstr-elig-history-rec.

    05 pat-elig-history-key.
        10  key-pat-mstr.
            15  pat-i-key                   pic x.
            15  pat-con-nbr                 pic 99.
            15  pat-i-nbr                   pic 9(12).
            15  filler                      pic x.

        10  pat-date-last-maint             pic 9(8).
        10  pat-time-last-maint             pic 9(8).

    05  pat-expiry-date.
        10  pat-expiry-yy               pic 99.
        10  pat-expiry-mm               pic 99.

    05  pat-health-nbr                  pic 9(10).
    05  pat-health-nbr-last             pic 9(10).

    05  pat-version-cd.
        10  pat-version-cd-1            pic x.
        10  pat-version-cd-2            pic x.
    05  pat-version-cd-last             pic x(2).


    05  pat-birth-date                  pic 9(8).
    05  pat-birth-date-last             pic 9(8).




    copy "f020_doctor_mstr.fd".
* sms 137  bml  05-dec-90  increase fields by 2
* sms 139  mc   10-jun-92  add 5 clinic nbr and 2 spec codes in
*                          reserved for nip
*          mc   24-nov-93  include brad's fields of earning subsystem
*          mc   12-feb-94  include doc-ep-pay-code and doc-ep-pay-sub-code
*          db   03-jun-98  Year 2000
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  32
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*          mc   16-jul-02  add 5 additional batch nbr for each additional
*                          clinic
*          mc   23-sep-02  rename the second occurrence of group-regular-service
*                          to group-over-serviced
*          be   05-nov-03  alpha doctor nbr
*          mc   03-mar-04  reuse filler x(4) for doc-afp-paym-group from filler2
*          be   06-apr-17  - increase to 800 when $1M payroll figures changed th

fd  doc-mstr
*       block  contains 680 characters
*       record contains 680 characters.
*       block  contains 695 characters
*       record contains 695 characters.
        block  contains 800 characters
        record contains 800 characters.

01 doc-mstr-rec.
*    05  doc-nbr                                        pic 9(3).
    05  doc-nbr                                 pic x(3).
    05  doc-dept                                pic 99.
    05  doc-ohip-nbr                            pic 9(6).
    05  doc-pract-nbr redefines doc-ohip-nbr    pic 9(6).
    05  doc-sin-nbr.
        10  doc-sin-123                         pic 999.
        10  doc-sin-456                         pic 999.
        10  doc-sin-789                         pic 999.
    05  doc-clinic-nbr                          pic 99.
    05  doc-spec-cd                             pic 99.
    05  doc-hosp-nbr                            pic x999.
    05  doc-name                                pic x(24).
    05  doc-name-soundex                        pic x(4).

    05  doc-inits.
        10  doc-init1                           pic x.
        10  doc-init2                           pic x.
        10  doc-init3                           pic x.
    05  doc-address-office.
        10  doc-addr-office-1                   pic x(24).
        10  doc-addr-office-2                   pic x(24).
        10  doc-addr-office-3                   pic x(24).
    05  doc-addr-office-r  redefines  doc-address-office.
        10  doc-addr-office  occurs 3 times     pic x(24).
    05  doc-addr-office-pc.
        10  doc-addr-office-pc-123.
            15  doc-addr-office-pc1             pic a.
            15  doc-addr-office-pc2             pic 9.
            15  doc-addr-office-pc3             pic a.
        10  doc-addr-office-pc-456.
            15  doc-addr-office-pc4             pic 9.
            15  doc-addr-office-pc5             pic a.
            15  doc-addr-office-pc6             pic 9.
    05  doc-address-home.
        10  doc-addr-home-1                     pic x(24).
        10  doc-addr-home-2                     pic x(24).
        10  doc-addr-home-3                     pic x(24).
    05  doc-addr-home-r  redefines doc-address-home.
        10  doc-addr-home  occurs 3 times       pic x(24).
    05  doc-addr-home-pc.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  33
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  doc-addr-home-pc-123.
            15  doc-addr-home-pc1               pic a.
            15  doc-addr-home-pc2               pic 9.
            15  doc-addr-home-pc3               pic a.
        10  doc-addr-home-pc-456.
            15  doc-addr-home-pc4               pic 9.
            15  doc-addr-home-pc5               pic a.
            15  doc-addr-home-pc6               pic 9.
    05  doc-full-part-ind                       pic x.
    05  doc-class-code redefines doc-full-part-ind pic x.
    05  doc-bank-info.
        10  doc-bank-nbr                        pic 9(4).
        10  doc-bank-branch                     pic 9(5).
        10  doc-bank-acct                       pic x(12).
*   05  doc-tax-info.
*       10  doc-billing-percent                 pic 9v99.
*       10  doc-misc-percent                    pic 9v99.
*       10  doc-tax-percent                     pic 9v99.
*       10  doc-billing-percent                 pic 9v9999.
*       10  doc-misc-percent                    pic 9v9999.
*       10  doc-tax-percent                     pic 9v9999.
*       10  doc-pay-code                        pic x.
    05  doc-fac-dates.
        10  doc-date-fac-start.
* y2k       15  doc-date-fac-start-yy           pic 99.
            15  doc-date-fac-start-yy           pic 9999.
            15  doc-date-fac-start-mm           pic 99.
            15  doc-date-fac-start-dd           pic 99.
        10  doc-date-fac-term.
* y2k       15  doc-date-fac-term-yy            pic 99.
            15  doc-date-fac-term-yy            pic 9999.
            15  doc-date-fac-term-mm            pic 99.
            15  doc-date-fac-term-dd            pic 99.
    05    doc-fac-dates-r redefines doc-fac-dates.
        10  doc-date-fac occurs 2 times.
* y2k       15  doc-date-fac-yy                 pic 99.
            15  doc-date-fac-yy                 pic 9999.
            15  doc-date-fac-mm                 pic 99.
            15  doc-date-fac-dd                 pic 99.
    05  doc-annual-ceiling-info.
*        10  doc-ytdgua                          pic s9(7)v99 comp.
        10  doc-ytdgua                          pic s9(7)v99.
*        10  doc-ytdgub                          pic s9(7)v99 comp.
        10  doc-ytdgub                          pic s9(7)v99.
*        10  doc-ytdguc                          pic s9(7)v99 comp.
        10  doc-ytdguc                          pic s9(7)v99.
*        10  doc-ytdgud                          pic s9(7)v99 comp.
        10  doc-ytdgud                          pic s9(7)v99.
*        10  doc-ytdcea                          pic s9(7)v99 comp.
        10  doc-ytdcea                          pic s9(7)v99.
*        10  doc-ytdcex                          pic s9(7)v99 comp.
        10  doc-ytdcex                          pic s9(7)v99.
*        10  doc-ytdear                          pic s9(7)v99 comp.
        10  doc-ytdear                          pic s9(7)v99.
*        10  doc-ytdinc                          pic s9(7)v99 comp.
        10  doc-ytdinc                          pic s9(7)v99.
*        10  doc-ytdeft                          pic s9(7)v99 comp.
        10  doc-ytdeft                          pic s9(7)v99.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  34
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*        10  doc-totinc-g                        pic s9(7)v99 comp.
        10  doc-totinc-g                        pic s9(7)v99.
* y2k
*       10  doc-ep-date-deposit                 pic 9(4) comp.
        10  doc-ep-date-deposit                 pic 9(8).
*        10  doc-totinc                          pic s9(7)v99 comp.
        10  doc-totinc                          pic s9(7)v99.
*        10  doc-ep-ceiexp                       pic s9(7)v99 comp.
        10  doc-ep-ceiexp                       pic s9(7)v99.
*        10  doc-adjcea                          pic s9(7)v99 comp.
        10  doc-adjcea                          pic s9(7)v99.
*        10  doc-adjcex                          pic s9(7)v99 comp.
        10  doc-adjcex                          pic s9(7)v99.
*        10  doc-ceicea                          pic s9(7)v99 comp.
        10  doc-ceicea                          pic s9(7)v99.
*        10  doc-ceicex                          pic s9(7)v99 comp.
        10  doc-ceicex                          pic s9(7)v99.
        10  ceicea-prt-format                   pic x(13).
        10  ceicex-prt-format                   pic x(13).
        10  ytdcea-prt-format                   pic x(13).
        10  ytdcex-prt-format                   pic x(13).
        10  doc-clinic-nbr-2                    pic 99.
        10  doc-clinic-nbr-3                    pic 99.
        10  doc-clinic-nbr-4                    pic 99.
        10  doc-clinic-nbr-5                    pic 99.
        10  doc-clinic-nbr-6                    pic 99.
        10  doc-spec-cd-2                       pic 99.
        10  doc-spec-cd-3                       pic 99.
*        10  doc-ytdinc-g                        pic s9(7)v99 comp.
        10  doc-ytdinc-g                        pic s9(7)v99.
    05  doc-locations.
        10  doc-loc-1                           pic x999.
        10  doc-loc-2                           pic x999.
        10  doc-loc-3                           pic x999.
        10  doc-loc-4                           pic x999.
        10  doc-loc-5                           pic x999.
        10  doc-loc-6                           pic x999.
        10  doc-loc-7                           pic x999.
        10  doc-loc-8                           pic x999.
        10  doc-loc-9                           pic x999.
        10  doc-loc-10                          pic x999.
        10  doc-loc-11                          pic x999.
        10  doc-loc-12                          pic x999.
        10  doc-loc-13                          pic x999.
        10  doc-loc-14                          pic x999.
        10  doc-loc-15                          pic x999.
        10  doc-loc-16                          pic x999.
        10  doc-loc-17                          pic x999.
        10  doc-loc-18                          pic x999.
        10  doc-loc-19                          pic x999.
        10  doc-loc-20                          pic x999.
        10  doc-loc-21                          pic x999.
        10  doc-loc-22                          pic x999.
        10  doc-loc-23                          pic x999.
        10  doc-loc-24                          pic x999.
        10  doc-loc-25                          pic x999.
        10  doc-loc-26                          pic x999.
        10  doc-loc-27                          pic x999.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  35
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  doc-loc-28                          pic x999.
        10  doc-loc-29                          pic x999.
        10  doc-loc-30                          pic x999.
    05  doc-locations-r  redefines  doc-locations.
        10  doc-loc     occurs 30 times         pic x999.
*
    05  doc-rma-expense-percent-misc            pic 9(5)v9(4) comp.
* 2004/03/03 - MC
*   05  filler2                                 pic x(8).
    05  doc-afp-paym-group                      pic x(4).
    05  filler2                                 pic x(4).
* 2004/030/03 - end
    05  doc-ind-pays-gst                        pic x.
    05  doc-nx-avail-batch                      pic 999.
* 2002/07/16 - MC - add 5 more next batch nbr for each clinic
    05  doc-nx-avail-batch-2                    pic 999.
    05  doc-nx-avail-batch-3                    pic 999.
    05  doc-nx-avail-batch-4                    pic 999.
    05  doc-nx-avail-batch-5                    pic 999.
    05  doc-nx-avail-batch-6                    pic 999.
** 2002/07/16 - end
*    05  doc-yrly-ceiling-computed               pic 9(7)v99 comp.
    05  doc-yrly-ceiling-computed               pic 9(7)v99.
*    05  doc-yrly-expense-computed               pic 9(7)v99 comp.
    05  doc-yrly-expense-computed               pic 9(7)v99.
    05  doc-rma-expense-percent-reg             pic 9(5)v9(4) comp.
    05  doc-sub-specialty                       pic x(15).
*    05  doc-payeft                              pic s9(7)v99 comp.
    05  doc-payeft                              pic s9(7)v99.
*    05  doc-ytdded                              pic s9(7)v99 comp.
    05  doc-ytdded                              pic s9(7)v99.
    05  doc-dept-expense-percent-misc           pic 9(5)v9(4) comp.
    05  doc-dept-expense-percent-reg            pic 9(5)v9(4) comp.
    05  doc-ep-ped                              pic s9(9) comp.
    05  doc-ep-pay-code                         pic x.
    05  doc-ep-pay-sub-code                     pic x.
    05  filler3                                 pic x(1).
    05  doc-ind-holdback-active                 pic x(1).
    05  group-regular-service                   pic x(4).
* 2002/09/23 - MC
*    05  group-regular-service                  pic x(4).
    05  group-over-serviced                     pic x(4).
* 2002/09/23 - end
    05  doc-specialties                         pic x(90).

* 2011/05/24 - MC - comment out
*    copy "f020_doctor_extra_mstr.fd".
    copy "f027_contacts_mstr.fd".
* sms      be   2005/jan/05 - original
* sms      be   2005/mar/21 - add web logon id

fd  contacts-mstr
*        block  contains 100 characters
*        record contains 100 characters.
        block  contains 120 characters
        record contains 120 characters.

01 contacts-mstr-rec.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  36
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  contacts-key.
        10  filler-must-be-blank                pic x( 1).
        10  doc-nbr                             pic x( 3).
        10  contacts-type                       pic x( 1).
    05  contacts-given-names                    pic x(30).
    05  contacts-surname                        pic x(30).
    05  contacts-inits                          pic x( 3).
    05  contacts-title                          pic x(30).
    05  contacts-sex                            pic x( 1).
    05  contacts-billing-entry-flag             pic x( 1).
    05  username-logon-web                      pic x(20).


    copy "f028_contacts_info_mstr.fd".
* sms      be   2005/jan/05 - original
*          MC   2006/apr/03 - extend email address from x(30) to x(50)

fd  contacts-info-mstr
* 2006/04/03 - MC
*        block  contains 178 characters
*        record contains 178 characters.
        block  contains 198 characters
        record contains 198 characters.

01 contacts-info-mstr-rec.
    05  contacts-info-key.
        10  filler-must-be-blank        pic x( 1).
        10  doc-nbr                     pic x( 3).
        10  contacts-type               pic x( 1).
        10  contacts-location           pic x( 1).
    05  contacts-addr-1                 pic x(30).
    05  contacts-addr-2                 pic x(30).
    05  contacts-addr-3                 pic x(30).
    05  contacts-addr-pc                pic x( 6).
* 2006/04/03 - MC
*    05  contacts-email-addr            pic x(30).
    05  contacts-email-addr             pic x(50).
* 2006/04/03 - end
    05  contacts-phone-nbr              pic x(10).
    05  contacts-phone-ext              pic x( 5).
    05  contacts-pager-nbr              pic x(10).
    05  contacts-cell-nbr               pic x(10).
    05  contacts-fax-nbr                pic x(10).
    05  contacts-newsletter-flag        pic x( 1).


**  copy "f029_followup_events_mstr.fd".
    copy "f030_locations_mstr.fd".

* 1999/Apr/01 B.E. - added loc-ministry-loc-code and filler, adjusted rec length
* 1999/apr/27 B.E. - added loc-hospital-code field as contingency field in case
*                    it's needed as the current claim rec hospital field is
*                    only 1 character long and is now too small.
* 2001/Jan/26 A.A  - added loc-payroll-flag and decreased the filler to 14 char.
*                    This field used to HSC ONLY
* 2001/may/03 B.E. - redefined card-colour field to indicate it's real purpose
*                    of specifying in/out patient indicator
*                  - added 'active for entry' field
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  37
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
* 2006/apr/03 M.C. - include service location indicator (SLI)

fd  loc-mstr
*       index block contains 512 characters
*       data  block contains 37 characters
*             block contains 37 characters
*       record      contains 37 characters.
              block contains 60 characters
        record      contains 60 characters.

01 loc-mstr-rec.
    05  loc-nbr                         pic x999.
    05  loc-nbr-r     redefines loc-nbr         pic x(4).

    05  loc-clinic-nbr                  pic 9(4).
    05  loc-hospital-nbr                pic 9(4).
    05  loc-hospital-code               pic x(4).

    05  loc-card-colour                 pic x(1).
    05  loc-in-out-ind redefines loc-card-colour
                                        pic x(1).

    05  loc-name                        pic x(24).
    05  loc-ministry-loc-code           pic 9(4).

    05  loc-payroll-flag                pic x(1).
    05  loc-active-for-entry            pic x(1).
* 2006/04/03 - MC
*   05  filler-reserved-for-nip         pic x(13).
    05  loc-service-location-indicator  pic x(4).
    05  filler-reserved-for-nip         pic x(9).
* 2006/04/03 - end

    copy "f040_oma_fee_mstr.fd".
* 98/dec/01 D.B.  - y2k
* 99/apr/28 B.E.  - split page (999) into page-alpha (xx) + page-numeric (999)
* 99/nov/30 B.E.  - correction to 'fee-page' definition in redefines
* 00/jul/31 B.E.  - fees changed from 9(5)v99 to 9(4)v999.
* 00/aug/01 B.E.  - added addition length to record for future expansion
*                 - add fee-active-for-entry y/n (1 byte)
*                 - add fee-min, fee-max (current/previous and oma/ohip)
*                                                        2*2*2*7 = 56 bytes)
*                 - add filler for growth -11 flags + 2  nbrs = 11*28 = 39 bytes
* 00/sep/05 B.E.  - add 'fee-global-addon-cd-exclusion-flag'
*
fd  oma-fee-mstr
*       block       contains 247 characters
*       record      contains 247 characters  .
        block       contains 315 characters
        record      contains 315 characters  .
*       feedback is feedback-oma-fee-mstr.

* insert this warning message from "f000_duplicate_fd_warning.fd
*----------------  note  -----------------------
*-- any changes to this fd must also be made  --
*-- to the corresponding "..._d001_..." fd    --
*-- and visa versa                            --
*----------------  note  -----------------------
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  38
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
01 fee-mstr-rec.
    05  fee-oma-cd.
        10  fee-oma-cd-ltr1                     pic x.
        10  filler                              pic 999.
    05  fee-special-m-suffix-ind                pic x.

    05  fee-effective-date.
* y2k   10  fee-date-yy                         pic 99.
        10  fee-date-yy                         pic 9999.
        10  fee-date-mm                         pic 99.
        10  fee-date-dd                         pic 99.
* 00/aug/01 B.E.
    05  fee-active-for-entry                    pic x(1).


    05  fee-desc                                pic x(48).
    05  fee-current-prev-years.
*           (CURRENT rates)
*           (00/aug/01 B.E. - fees changed from 2 to 3 decimals)
        10  fee-curr-a-fee-1                    pic s9(4)v999
                                        sign is leading .
        10  fee-curr-h-fee-1                    pic s9(4)v999
                                        sign is leading .
        10  fee-curr-a-fee-2                    pic s9(4)v999
                                        sign is leading .
        10  fee-curr-h-fee-2                    pic s9(4)v999
                                        sign is leading .
*           (00/aug/01 B.E.)
        10  fee-curr-a-min              pic s9(4)v999
                                        sign is leading .
        10  fee-curr-h-min              pic s9(4)v999
                                        sign is leading .
        10  fee-curr-a-max              pic s9(4)v999
                                        sign is leading .
        10  fee-curr-h-max              pic s9(4)v999
                                        sign is leading .

        10  fee-curr-a-anae                     pic 99.
        10  fee-curr-h-anae                     pic 99.
        10  fee-curr-a-asst                     pic 99.
        10  fee-curr-h-asst                     pic 99.

        10  fee-curr-add-on-codes.
            15  fee-curr-add-on-cd              pic x999    occurs 10 times.
        10  fee-curr-oma-ind-card-reqs.
            15  fee-curr-oma-ind-card-required  pic x       occurs  3 times.
* 99/apr/28
*       10  fee-curr-page                       pic 999.
        10  fee-curr-page.
            15 fee-curr-page-alpha              pic x(2).
            15 fee-curr-page-numeric            pic 999.

        10  fee-curr-add-on-perc-flat-ind       pic x.

*           (PREVIOUS rates)
*           (00/aug/01 B.E. - fees changed from 2 to 3 decimals)
        10  fee-prev-a-fee-1                    pic s9(4)v999
                                        sign is leading .
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  39
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  fee-prev-h-fee-1                    pic s9(4)v999
                                        sign is leading .
        10  fee-prev-a-fee-2                    pic s9(4)v999
                                        sign is leading .
        10  fee-prev-h-fee-2                    pic s9(4)v999
                                        sign is leading .
*           (00/aug/01 B.E.)
        10  fee-prev-a-min              pic s9(4)v999
                                        sign is leading .
        10  fee-prev-h-min              pic s9(4)v999
                                        sign is leading .
        10  fee-prev-a-max              pic s9(4)v999
                                        sign is leading .
        10  fee-prev-h-max              pic s9(4)v999
                                        sign is leading .
        10  fee-prev-a-anae                     pic 99.
        10  fee-prev-h-anae                     pic 99.
        10  fee-prev-a-asst                     pic 99.
        10  fee-prev-h-asst                     pic 99.

        10  fee-prev-add-on-codes.
            15  fee-prev-add-on-cd              pic x999        occurs 10 times.
        10  fee-prev-oma-ind-card-reqs.
            15  fee-prev-oma-ind-card-required  pic x           occurs  3 times.
*       10  fee-prev-page                       pic 999.
        10  fee-prev-page.
            15 fee-prev-page-alpha              pic x(2).
            15 fee-prev-page-numeric            pic 999.
        10  fee-prev-add-on-perc-flat-ind       pic x.
    05  fee-current-prev-year-r redefines fee-current-prev-years.
* ---------------------- n o t e -------------------------
* ----- set up the following subscripts when using this file
* ----- set subscript  'curr' to 1  and  'prev' 2
        10  fee-years occurs 2 times.
* ----- set subscript  'oma' to 1  and  'ohip' to 2

            15  fee-1           occurs 2 times
*                                                       pic s9(5)v99
                                        pic s9(4)v999
                                        sign is leading.
            15  fee-2           occurs 2 times
*                                                       pic s9(5)v99
                                        pic s9(4)v999
                                        sign is leading.
*               (00/aug/01 B.E.)

*                 - fee-min, fee-max used only if "P" percentage based fee
            15  fee-min         occurs 2 times
                                        pic s9(4)v999
                                        sign is leading.
            15  fee-max         occurs 2 times
                                        pic s9(4)v999
                                        sign is leading.

            15  fee-anae        occurs 2 times
                                                pic 99.
            15  fee-asst        occurs 2 times
                                                pic 99.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  40
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
            15  fee-add-on-codes.
                20  fee-add-on-cd               pic x999        occurs 10 times.
            15  fee-oma-ind-card-requireds.
                20  fee-oma-ind-card-required   pic x           occurs  3 times.
*y2k
*           15  fee-page                        pic 999.
            15  fee-page-alpha-numeric.
                20 fee-page-alpha               pic x(2).
                20 fee-page                     pic 9(3).

            15  fee-add-on-perc-or-flat-ind     pic x.

*       internal computer code (icc) -- used to perform price reductions
    05  fee-icc-code.
        10  fee-icc-sec                         pic xx.
        10  fee-icc-cat                         pic  9.
        10  fee-icc-grp                         pic 99.
        10  fee-icc-reduc-ind                   pic  9.
*       (diag ind = 'y' --> batch claim header diag cd must not = zero)
    05  fee-diag-ind                            pic x.
    05  fee-phy-ind                             pic x.
    05  fee-tech-ind                            pic x.
    05  fee-hosp-nbr-ind                        pic x.
    05  fee-i-o-ind                             pic x.
    05  fee-admit-ind                           pic x.
    05  fee-spec-fr                             pic 99.
    05  fee-spec-to                             pic 99.

*          (00/aug/01 B.E. filler for growth)
*           05  filler                                  pic x(39).
*       (00/sep/05 B.E.)
    05  fee-global-addon-cd-exclusion           pic x(01).
    05  filler                                  pic x(38).

    copy "f050_doc_revenue_mstr.fd".
* 03/nov/05 b.e. - alpha doctor nbr

fd  docrev-mstr
* 01/Feb/19 A.A
*     block  contains 64 characters
*     record contains 64 characters .
     block  contains 66 characters
     record contains 66 characters .

01  docrev-master-rec.

*
*       this file contains revenue records only.  as of may/82,
*       cash records are now stored in file "DOCASH"
*
*       key is:
*
*          ohip claim     : clinic
*                           dept
*                           doctor number
*                           location or "MISC
*                           oma code + suffix
*               both in + out patient areas are used
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  41
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*               for svc and dollar calculations
*               if location is "MISC" the record is a
*               miscellaneous revenue record
*
    05  docrev-key.
        10  docrev-clinic-1-2           pic x(2).
        10  docrev-dept                 pic 99.
*!       10  docrev-doc-nbr              pic 999.
        10  docrev-doc-nbr              pic xxx.
        10  docrev-location             pic x999.
        10  docrev-oma-cd               pic x(5).
        10  docrev-oma-cd-r redefines docrev-oma-cd.
            15 docrev-oma-code          pic x(4).
            15 docrev-oma-suff          pic x.
            15 docrev-adj-cd-sub-type   redefines docrev-oma-suff
                                        pic x.
*       ( removed because the doctor revenue file has been split
*         into 2 files - the docrev file and the doccash file.
*         the doccash file uses the 'agency type' as a part of its
*         key and the docrev uses the oma code).
*       10  docrev-cash-record redefines docrev-oma-cd-r.
*           15  docrev-agency-type      pic x.
*           15  filler                  pic xxxx.

*       05  docrev-adj-cd-sub-type              pic x.
    05  docrev-month-to-date.
*       10  docrev-mtd-in-rec           pic s9(5)v99.
        10  docrev-mtd-in-rec           pic s9(6)v99.
* 01/Feb/19 A.A
*       10  docrev-mtd-in-svc           pic s9(3).
        10  docrev-mtd-in-svc           pic s9(4).
*       10  docrev-mtd-out-rec          pic s9(5)v99.
        10  docrev-mtd-out-rec          pic s9(6)v99.
* 01/Feb/19 A.A
*       10  docrev-mtd-out-svc          pic s9(3).
        10  docrev-mtd-out-svc          pic s9(4).

    05  docrev-year-to-date.
        10  docrev-ytd-in-rec           pic s9(6)v99.
        10  docrev-ytd-in-svc           pic s9(5).
        10  docrev-ytd-out-rec          pic s9(6)v99.
        10  docrev-ytd-out-svc          pic s9(5).
    copy "f050tp_doc_revenue_mstr.fd".
fd  docrevtp-mstr
*    index block contains 512 characters
*    data  block contains 512 characters
           block contains 512 characters
    record      contains 183 characters .
*    feedback is feedback-docrevtp-mstr.

01  docrevtp-master-rec.

    05  docrevtp-key.
        10  docrevtp-clinic-nbr                 pic 99.
        10  docrevtp-agent-cd                   pic x.
        10  docrevtp-loc-cd                     pic x999.
        10  docrevtp-oma-cd.
            15  docrevtp-oma-code               pic x999.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  42
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
            15  docrevtp-oma-suffix             pic x.
*!        10  docrevtp-doc-nbr                    pic 999.
        10  docrevtp-doc-nbr                    pic xxx.

    05  docrevtp-mtd-ytd occurs 2 times.
        10  docrevtp-in-out occurs 2 times.
            15  docrevtp-tech-prof-amts occurs 2 times.
                20  docrevtp-amt-billed         pic s9(6)v99.
                20  docrevtp-amt-adjusts        pic s9(6)v99.
                20  docrevtp-nbr-svc            pic 9(5).

*       subscripts -    mtd     = 1
*                       ytd     = 2
*                       in      = 1
*                       out     = 2
*                       tech    = 1
*                       prof    = 2
    copy "f051_doc_cash_mstr.fd".
fd  docash-mstr
*    index block contains 512 characters
*    data  block contains 512 characters
           block contains 512 characters
*   record      contains  45 characters
     record     contains  46 characters .
*    feedback is feedback-docash-mstr.

01  docash-master-rec.

*
*       this file contains cash records only and is in use as of
*       may/82.
*
*       key is:
*
*                         : clinic
*                           dept.
*                           doctor number
*                           location
*                           agent code
*                           filler of spaces
*
*               only the in-patient amount areas are used
*               all the out-patient areas are zeroed out
*               and all sv areas for both sections are set to zero
*
    05  docash-key.
        10  docash-clinic-1-2           pic x(2).
        10  docash-dept                 pic 99.
*!        10  docash-doc-nbr              pic 999.
        10  docash-doc-nbr              pic xxx.
        10  docash-location             pic x999.
        10  docash-agency-type          pic x.

    05  docash-month-to-date.
*       10  docash-mtd-in-rec           pic s9(5)v99.
        10  docash-mtd-in-rec           pic s9(6)v99.
        10  docash-mtd-in-svc           pic s9(3).

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  43
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  docash-year-to-date.
* 2011/05/30 - MC - increase field size
*       10  docash-ytd-in-rec           pic s9(6)v99.
        10  docash-ytd-in-rec           pic s9(7)v99.
* 2011/05/30 - end
        10  docash-ytd-in-svc           pic s9(5).

* 2011/05/30 -MC
*       10  filler                      pic x(10).
        10  filler                      pic x(9).
* 2011/05/30 - end
    copy "f051tp_doc_cash_mstr.fd".
fd  docashtp-mstr
*    index block contains 512 characters
*    data  block contains 512 characters
           block contains 512 characters
    record      contains  74 characters .
*    feedback is feedback-docashtp-mstr.

01  docashtp-master-rec.

    05  docashtp-key.
        10  docashtp-clinic-nbr         pic 99.
        10  docashtp-agent-cd           pic x.
        10  docashtp-loc-cd             pic x999.
*!        10  docashtp-doc-nbr            pic 999.
        10  docashtp-doc-nbr            pic xxx.

    05  docashtp-mtd-ytd occurs 2 times.
        07  docashtp-in-out occurs 2 times.
            09  docashtp-tech-prof occurs 2 times.
                11  docashtp-amt-paid   pic s9(6)v99.

*       subscripts -    mtd     = 1
*                       ytd     = 2
*                       in      = 1
*                       out     = 2
*                       tech    = 1
*                       prof    = 2
    copy "f060_cheque_reg_mstr.fd".
*   revised dec 7/90 (b.m.l.) - sms 137
* 03/nov/05 b.e. - alpha doctor nbr


*
fd  cheque-reg-mstr
*       index block contains 512 characters
*       data  block contains 2041 characters
*       data  block contains 2095 characters
* y2K         block contains 2095 characters
              block contains 2131 characters
*       record      contains 2041 characters
        record      contains 2131 characters .
*       feedback    is feedback-cheque-reg-mstr.

*       the  18  occurances in the file, hold 18 months of doctor figures
*       in the following manner:
*
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  44
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
*       occurs 1 thru 6 contain mths 1 (jan) thru 6 (jun) of the previous r.m.a.
*                                                                ========
*                               fiscal year. they are for tax reporting purposes
*       occurs 7 thru 12 contain fiscal mths 1 (july) thru 6 (dec) of the presen
*                                                                         ------
*                               r.m.a. fiscal year.
*       occurs 13 thru 18 contain fiscal mths 7 (jan) thru 18 (june) of the
*                               present fiscal year.
*                               -------
*
*       modications and update are allowed only the present fiscal year -- 7 thr
*       after the fiscal year end the values in 13 thru 18 are moved to
*       positions 1 thru 6 for tax reporting purposes and position 7 thru
*       18 are zeroed out in preparation for the new r.m.a. fiscal year.


01 cheque-reg-rec.
    05  chq-reg-key.
        10  chq-reg-clinic-nbr-1-2              pic 99.
        10  chq-reg-dept                        pic 99.
*!        10  chq-reg-doc-nbr                     pic 9(3).
        10  chq-reg-doc-nbr                     pic x(3).

    05  chq-doc-data    occurs 18 times.
*       10  chq-reg-perc-bill                   pic 9v99        comp-3.
        10  chq-reg-perc-bill                   pic 9v9999      comp-3.
*       10  chq-reg-perc-misc                   pic 9v99        comp-3.
        10  chq-reg-perc-misc                   pic 9v9999      comp-3.
        10  chq-reg-pay-code                    pic x.
*       10  chq-reg-perc-tax                    pic 9v99        comp-3.
        10  chq-reg-perc-tax                    pic 9v9999      comp-3.
        10  chq-reg-mth-bill-amt                pic s9(7)v99    comp-3.
        10  chq-reg-mth-misc-amt occurs 10 times
                                                pic s9(7)v99    comp-3.
        10  chq-reg-mth-exp-amt                 pic s9(7)v99    comp-3.
        10  chq-reg-comp-ann-exp-this-pay       pic s9(7)v99    comp-3.
        10  chq-reg-mth-ceil-amt                pic s9(7)v99    comp-3.
        10  chq-reg-comp-ann-ceil-this-pay      pic s9(7)v99    comp-3.
        10  chq-reg-earnings-this-mth           pic s9(7)v99    comp-3.
        10  chq-reg-regular-pay-this-mth        pic s9(7)v99    comp-3.
        10  chq-reg-regular-tax-this-mth        pic s9(7)v99    comp-3.
        10  chq-reg-man-pay-this-mth            pic s9(7)v99    comp-3.
        10  chq-reg-man-tax-this-mth            pic s9(7)v99    comp-3.
* y2k   10  chq-reg-pay-date                    pic 9(6).
        10  chq-reg-pay-date                    pic 9(8).
    copy "f070_dept_mstr.fd".

fd  dept-mstr
*       index block contains   2 characters
*       data  block contains 200 characters
              block contains 200 characters
        record      contains 200 characters.


01 dept-mstr-rec.
    05  dept-nbr                                pic 99.
    05  dept-name                               pic x(30).
    05  dept-addr1                              pic x(30).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  45
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
    05  dept-addr2                              pic x(30).
    05  dept-addr3                              pic x(30).
    05  dept-chairman                           pic x(25).
    05  dept-co-ordinator                       pic x(25).
    05  dept-nbr-docs                           pic 999.
* 2003/01/20 - MC
*    05  filler                                 pic x(25).
    05  dept-company                            pic 99.
    05  filler                                  pic x(23).
* 2003/01/20 - end
    copy "f071_client_rma_claim_nbr.fd".
* 2000/jan/18 m.c.      - include clinic nbr
* 2003/jun/10 m.c.      - include clinic nbr as part of claim-nbr-rma-clinic
* 2003/dec/10 m.c.      - alphd doc nbr

fd  client-rma-claim-nbr
*    index block contains  8 characters
*    data  block contains 22 characters
*    block contains 22 characters
*    record contains 22 characters .
     block contains 24 characters
     record contains 24 characters .
*    feedback is feedback-client-rma-claim-nbr.

01  client-rma-claim-nbr-rec.
    05  claim-nbr-client.
        10  doc-ohip-nbr                pic x(6).
        10  doc-account-nbr             pic x(8).
* 2003/06/10 - MC
*   05  claim-nbr-rma                   pic 9(8).
*   05  clinic-nbr                      pic 9(2).
    05  claim-nbr-rma-clinic.
        10  clinic-nbr                  pic 9(2).
*!        10  claim-nbr-rma               pic 9(8).
        10  claim-nbr-rma               pic x(8).
* 2003/06/10 - end

    copy "f072_client_mstr.fd".
fd  client-mstr
*    index block contains  5 characters
*    data  block contains 38 characters
    block contains 38 characters
    record contains 38 characters .
*   feedback is feedback-client-mstr.

01  client-mstr-rec.
    05  client-id                       pic x(5).
    05  client-operator-nbr             pic 9(3).
    05  client-desc                     pic x(30).

    copy "f073_client_doc_mstr.fd".
fd  client-doc-mstr
*    index block contains  3 characters
*    data  block contains  8 characters
     block contains  8 characters
     record contains 8 characters .
*    feedback is feedback-client-doc-mstr.

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  46
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
01  client-doc-rec.
* 2003/11/25 - MC - change sequence
*   05  doc-nbr                         pic 9(3).
*   05  client-id                       pic x(5).
    05  client-doc.
        10  client-id                   pic x(5).
*!      10  doc-nbr                     pic 9(3).
        10  doc-nbr                     pic x(3).
* 2003/11/25 - end

    copy "f080_bank_mstr.fd".
fd  bank-mstr
*       index block  contains 512 characters
*       data  block  contains 135 characters
              block  contains 135 characters
        record       contains 135 characters.

01 bank-mstr-rec.
    05  bank-cd                         pic x(9).
    05  bank-name                       pic x(30).
    05  bank-address.
        10  bank-address1               pic x(30).
        10  bank-address2               pic x(30).
    05  bank-city-prov.
        10  bank-city                   pic x(15).
        10  bank-prov                   pic x(15).
    05  bank-postal-cd.
        10  bank-pc-123.
            15  bank-pc1                        pic x.
            15  bank-pc2                        pic 9.
            15  bank-pc3                        pic x.
        10  bank-pc-456.
            15  bank-pc4                        pic 9.
            15  bank-pc5                        pic x.
            15  bank-pc6                        pic 9.
    copy "f085_rejected_claims.fd".
* sms 141  mc   21-apr-93  created
* 03/nov/05 b.e. - alpha doctor nbr
* 10/jun/01 MC   - include new field logically-deleted-flag
* 10/jun/21 MC   - include new field clmhdr-submit-date

fd  rejected-claims
*       data  block contains  36 characters
              block contains  45 characters
        record      contains  45 characters .

01  rejected-claims-rec.
*!    05  claim-nbr                              pic 9(10).
*!    05  doc-nbr                                pic 9(3).
    05  claim-nbr                               pic x(10).
    05  doc-nbr                                 pic x(3).

    05  clmhdr-pat-id                           pic x(16).
    05  rejected-loc                            pic x(4).
    05  mess-code                               pic x(3).
    05  logically-deleted-flag                  pic x.
    05  clmhdr-submit-date                      pic 9(8).
    copy "f086_pat_id.fd".
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  47
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
* sms 141  agk  19-apr-93  created
* 98/dec/01 D.B.        - y2k
* 99/jan/20 B.E.        - changed y2k birth date from 'comp' to normal 9(8)
*                         and increased rec length accordingly
* 03/oct/03 M.C.        - include the additional chart nbr
*                       - extend the size for first and last names

fd  corrected-pat
*       data  block  contains 132 characters
* y2k         block  contains 132 characters
* 2003/10/03 - MC
*             block  contains 138 characters
*             record contains 138 characters.
              block  contains 192 characters
              record contains 192 characters.
* 2003/10/03 - end

01 pat-id-rec.
    05  clmhdr-pat-ohip-id-or-chart             pic x(16).
* y2k    05  pat-last-birth-date                     pic 9(4) comp.
    05  pat-last-birth-date                     pic 9(8).
    05  pat-last-version-cd                     pic xx.
* 2003/10/03 - MC
*    05  pat-old-surname                         pic x(15).
*    05  pat-old-given-name                      pic x(12).
    05  pat-old-surname                         pic x(25).
    05  pat-old-given-name                      pic x(17).
* 2003/10/03 - end
    05  pat-old-health-nbr                      pic 9(10).
* 2003/10/03 - MC
*    05  pat-old-chart-nbr                       pic x(12).
    05  pat-old-chart-nbr                       pic x(10).
    05  pat-old-chart-nbr-2                     pic x(10).
    05  pat-old-chart-nbr-3                     pic x(10).
    05  pat-old-chart-nbr-4                     pic x(10).
    05  pat-old-chart-nbr-5                     pic x(11).
* 2003/10/03 - end
    05  pat-old-addr1                           pic x(21).
    05  pat-old-addr2                           pic x(21).
    05  pat-old-addr3                           pic x(21).
    copy "f090_constants_mstr.fd".
* 99/Jan/29     MC      - change iconst-clinic-nbr from numeric to character
* 03/nov/05 b.e. - alpha doctor nbr
* 06/nov/08     MC      - include iconst-clinic-pay-batch-nbr

fd  iconst-mstr
*       index block contains   2 characters
              block contains 384 characters
        record      contains 384 characters  .
*       feedback is feedback-iconst-mstr.

01 iconst-mstr-rec.
    05  iconst-clinic-nbr-1-2                   pic   99.
*    05  iconst-clinic-nbr                      pic  9(4).
    05  iconst-clinic-nbr                       pic  x(4).
    05  iconst-clinic-name                      pic x(20).
    05  iconst-clinic-cycle-nbr                 pic   99.
    05  iconst-date-period-end.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  48
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
* y2k   10  iconst-date-period-end-yy           pic   99.
        10  iconst-date-period-end-yy           pic   9999.
        10  iconst-date-period-end-mm           pic   99.
        10  iconst-date-period-end-dd           pic   99.
    05  iconst-clinic-addr.
        10  iconst-clinic-addr-l1               pic  x(25).
        10  iconst-clinic-addr-l2               pic  x(25).
        10  iconst-clinic-addr-l3               pic  x(25).
    05  iconst-clinic-addr-r redefines iconst-clinic-addr.
        10  iconst-clinic-addr                  pic x(25)   occurs  3  times.
    05  iconst-clinic-card-colour               pic    x.
    05  iconst-clinic-over-lim1                 pic 99v99.
    05  iconst-clinic-under-lim2                pic 99v99.
    05  iconst-clinic-under-lim3                pic 99v99.
    05  iconst-clinic-over-lim4                 pic 99v99.

*!    05  iconst-clinic-batch-nbr                 pic 9(6).
    05  iconst-clinic-batch-nbr                 pic x(6).

    05  iconst-reduction-factor                 pic 99v99.
    05  iconst-overpay-factor                   pic 99v99.
* 2006/11/08
*   05  filler                                  pic x(242).
    05  filler                                  pic x(106).
    05  iconst-clinic-pay-batch-nbr             pic x(6).
    05  filler                                  pic x(130).
* 2006/11/08 - end
    copy "f091_diagnostic_codes.fd".
fd  diag-mstr
*       index block contains  3  characters
*       data  block contains 123  characters
              block contains 123  characters
        record      contains 123  characters.

01  diag-rec.
    05  diag-cd                         pic xxx.
    05  diag-cd-desc                    pic x(120).

    copy "f094_msg_sub_mstr.fd".

fd  msg-sub-mstr
*       index block contains   3 characters
*       data  block contains 193 characters
              block contains 193 characters
        record      contains 193 characters   .
*       feedback    is feedback-msg-sub-mstr.

01 msg-sub-mstr-rec.
    05  msg-sub-key.
        10  msg-sub-key-1                       pic x.
        10  msg-sub-key-23.
            15  msg-sub-key-2                   pic x.
            15  msg-sub-key-3                   pic x.
*    message records     require "M" in msg-sub-key-1
*    subdivision records require "S" in msg-sub-key-1 an
*                                " " in msg-sub-key-2
    05  msg-rec.
        10  msg-reprint-flag                    pic x.
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  49
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  msg-auto-logout                     pic x.
        10  msg-dtl1                            pic x(47).
        10  msg-dtl2                            pic x(47).
        10  msg-dtl3                            pic x(47).
        10  msg-dtl4                            pic x(47).
    05  sub-rec redefines msg-rec.
        10  sub-name                            pic x(25).
        10  sub-fee-complex                     pic x.
        10  sub-auto-logout                     pic x.
        10  filler                              pic x(163).
    copy "f096_ohip_pay_code.fd".
fd  pay-code-mstr
*    index block contains 512 characters
*    data  block contains 512 characters
           block contains 512 characters
    record      contains  72 characters .
*    feedback is feedback-pay-code-mstr.

01  pay-code-rec.
    05  pay-code                        pic x(2).
    05  pay-explanation                 pic x(70).

    copy "r051_docrev_work_mstr.fd".
fd  r051-work-file
        block contains 49 characters.

01  work-file-rec.

  03  wf-sort-key.
    05  wf-dept                                 pic 99.
    05  wf-class-code                           pic x.
*!    05  wf-doc-nbr                            pic 9(3).
    05  wf-doc-nbr                              pic x(3).
    05  wf-oma-cd.
        10  wf-oma-code-ltr                     pic x.
        10  filler                              pic x(4).
  03  wf-data.
    05  wf-month-to-date.
        10  wf-mtd-svcs                         pic s9(8).
        10  wf-mtd-amt                          pic s9(9)v99.
    05  wf-year-to-date.
        10  wf-ytd-svcs                         pic s9(8).
        10  wf-ytd-amt                          pic s9(9)v99.
    copy "f123_company_mstr.fd".

fd  company-mstr
              block   contains 70 characters
              record  contains 70 characters.
*             block   contains 42 characters
*              record  contains 42 characters.


01 company-mstr-rec.
    05  company-nbr                             pic 99.
    05  company-name                            pic x(40).
    05  bank-info.
        10  bank-nbr                            pic 9(4).
        10  bank-branch                         pic 9(5).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  50
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
        10  bank-account-nbr                    pic x(12).
    05  filler                                  pic x(7).
    copy "f200_oscar_provider.fd".
*  2011-jan-20  brad1   - original
*  2013-oct-07  MC1     - include process-agent-6-flag, now Brad suggested to al

fd  oscar-provider
* 2013/10/07 - MC1
*       block  contains 27 characters
*       record contains 27 characters.
        block  contains 37 characters
        record contains 37 characters.
* 2013/10/07 -  end

01 oscar-provider-rec.
    05  oscar-provider-no                       pic x(10).
    05  doc-nbr                                 pic x(3).
    05  doc-specialty-code                      pic 99.
    05  doc-clinic-nbr                          pic 99.
    05  doc-clinic-nbr-2                        pic 99.
    05  doc-clinic-nbr-3                        pic 99.
    05  doc-clinic-nbr-4                        pic 99.
    05  doc-clinic-nbr-5                        pic 99.
    05  doc-clinic-nbr-6                        pic 99.
* 2013/10/07 - MC1
    05  doc-process-agent-0-flag                pic x.
    05  doc-process-agent-1-flag                pic x.
    05  doc-process-agent-2-flag                pic x.
    05  doc-process-agent-3-flag                pic x.
    05  doc-process-agent-4-flag                pic x.
    05  doc-process-agent-5-flag                pic x.
    05  doc-process-agent-6-flag                pic x.
    05  doc-process-agent-7-flag                pic x.
    05  doc-process-agent-8-flag                pic x.
    05  doc-process-agent-9-flag                pic x.
* 2013/10/07 - end
    copy "f201_sli_oma_code_suff.fd".
* 2011/may/17 M.C. - this is for d001 & newu701 edit for SLI

fd  sli-oma-code-suff-mstr
        block  contains 10 characters
        record contains 10 characters.

01  sli-oma-code-suff-rec.
    05  sli-oma-code-suff.
        10  sli-oma-code                        pic x(4).
        10  sli-oma-suff                        pic x(1).
        10  sli-code                            pic x(4).
    05  sli-admit-ind                           pic x(1).


* 2013/06/24 - MC1
    copy "f010_ins.fd".
* file:  f010_ins.fd

fd  f010-ins
        record      contains 60  characters.

* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  51
*                      createfiles.cbl (/alpha/rmabill/rmabill101/use)
01  f010-ins-rec.

    05  f010-ins-key.
        10  key-pat-mstr                pic x(16).
        10  ins-clmhdr-batch-nbr        pic x(8).
        10  ins-clmhdr-claim-nbr        pic 9(2).
        10  ins-acronym                 pic x(5).
    05  priority-seq                    pic 9.
    05  percentage-to-pay               pic 9(3).
    05  policy-nbr                      pic x(25).
    copy "f010_crm.fd".
* file:  f010_crm.fd

fd  f010-crm
        record      contains 90 characters .

01  f010-crm-rec.

    05  f010-crm-key.
        10  key-pat-mstr                pic x(16).
        10  crm-clmhdr-batch-nbr        pic x(8).
        10  crm-clmhdr-claim-nbr        pic 9(2).
        10  ghost-date-descending       pic 9(6).
        10  date-assigned               pic 9(8).
        10  time-assigned               pic 9(6).
        10  seq-nbr                     pic 9(2).
    05  action-code                     pic x(2).
    05  followup-action                 pic x(40).
* 2013/06/24 - end

* MC2
    copy "f040_dtl.fd".
* 2015/Mar/17  MC- this copybook is used in d004.cbl
* 2017/Mar/20  MC1 - include doc-nbr

fd  f040-dtl
* MC1
*       block       contains 7   characters
*       record      contains 7   characters.
        block       contains 10  characters
        record      contains 10  characters.

01 f040-dtl-rec.
    05  oma-dept.
        10  oma-cd                              pic x(4).
        10  dept-no                             pic 99.
* MC1
        10  oma-doc-nbr                         pic x(3).
* MC1 - end
    05  data-entry-flag                         pic x.



* MC2 - end

working-storage section.

77  password-input                              pic x(3).
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  52
*                      createfiles.cbl                               )
77  status-cobol-batctrl-file                   pic  xx         value zero.
77  status-cobol-claims-mstr                    pic  xx         value zero.
77  status-cobol-claims-mstr-new                pic  xx         value zero.
77  status-cobol-suspend-hdr                    pic  xx         value zero.
77  status-cobol-suspend-addr                   pic  xx         value zero.
77  status-cobol-suspend-dtl                    pic  xx         value zero.
77  status-cobol-suspend-desc                   pic  xx         value zero.
77  status-cobol-client-mstr                    pic  xx         value zero.
77  status-cobol-client-rma-nbr                 pic  xx         value zero.
77  status-cobol-client-doc-mstr                pic  xx         value zero.
77  status-followup-events-mstr                 pic  xx         value zero.
77  status-cobol-pat-mstr                       pic  xx         value zero.
77  status-cobol-pat-elig-history               pic  xx         value zero.
77  status-cobol-new-pat-file                   pic  xx         value zero.
77  status-cobol-pat-mstr-hc                    pic xx          value zero.
77  status-cobol-pat-mstr-od                    pic xx          value zero.
77  status-cobol-pat-mstr-chrt                  pic xx          value zero.
77  status-cobol-pat-mstr-acr                   pic xx          value zero.
77  status-corrected-pat                        pic xx          value zero.
77  status-cobol-doc-extra-mstr                 pic xx          value zero.
77  status-cobol-doc-mstr                       pic xx          value zero.
77  status-cobol-oma-mstr                       pic  xx         value zero.
77  status-cobol-iconst-mstr                    pic  xx         value zero.
77  status-cobol-diag-mstr                      pic  xx         value zero.
77  status-cobol-msg-sub-mstr                   pic xx          value zero.
77  status-cobol-clm-shadow-mstr                pic xx          value zero.
77  status-cobol-shadow-mstr-new                pic xx          value zero.
77  status-cobol-rejected-claims                pic xx          value zero.
77  status-cobol-claims-extra                   pic xx          value zero.
77  status-cobol-dept-mstr                      pic xx          value zero.
77  status-cobol-loc-mstr                       pic xx          value zero.
77  status-cobol-docrev-mstr                    pic xx          value zero.
77  status-cobol-docrevtp-mstr                  pic xx          value zero.
77  status-cobol-docash-mstr                    pic xx          value zero.
77  status-cobol-docashtp-mstr                  pic xx          value zero.
77  status-cobol-chq-reg-mstr                   pic xx          value zero.
77  status-cobol-bank-mstr                      pic xx          value zero.
77  status-cobol-pay-code-mstr                  pic xx          value zero.
77  status-cobol-company-mstr                   pic xx          value zero.
77  status-cobol-contacts-mstr                  pic xx          value zero.
77  status-cobol-contacts-info                  pic xx          value zero.
77  status-cobol-oscar-provider                 pic xx          value zero.
77  status-cobol-sli-oma-mstr                   pic xx          value zero.
* 2013/06/24 - MC1
77  status-cobol-f010-ins                       pic xx          value zero.
77  status-cobol-f010-crm                       pic xx          value zero.
* 2013/06/24 - end

* MC2
77  status-cobol-f040-dtl                       pic xx          value zero.
* MC2 - end

procedure division.
main-line section.
mainline.
    open i-o    batch-ctrl-file
                claims-mstr
                claims-mstr-new
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  53
*                      createfiles.cbl                               )
                claims-extra-mstr
                claim-shadow-mstr
                claim-shadow-mstr-new
                suspend-address
                suspend-dtl
                suspend-hdr
                suspend-desc
                pat-mstr
                pat-elig-history
                doc-mstr
* 2011/05/24 - MC
*               doc-extra-mstr
                loc-mstr
                oma-fee-mstr
                docrev-mstr
                docrevtp-mstr
                oscar-provider
* 2013/06/24 - MC1
                f010-ins
                f010-crm
* 2013/06/24 - end
* MC2
                f040-dtl
* MC2 - end
                sli-oma-code-suff-mstr.

    close       batch-ctrl-file
                claims-mstr
                claims-mstr-new
                claims-extra-mstr
                claim-shadow-mstr
                claim-shadow-mstr-new
                suspend-address
                suspend-dtl
                suspend-hdr
                suspend-desc
                pat-mstr
                pat-elig-history
                doc-mstr
* 2011/05/24 - MC
*               doc-extra-mstr
                loc-mstr
                oma-fee-mstr
                docrev-mstr
                docrevtp-mstr
                oscar-provider
* 2013/06/24 - MC1
                f010-ins
                f010-crm
* 2013/06/24 - end
* MC2
                f040-dtl
* MC2 - end
                sli-oma-code-suff-mstr.

    open i-o    docash-mstr
                docashtp-mstr
                cheque-reg-mstr
* Micro Focus COBOL for UNIX         V4.0 revision 005 20-Mar-17 13:30 Page  54
*                      createfiles.cbl                               )
                dept-mstr
                bank-mstr
                rejected-claims
                iconst-mstr
                diag-mstr
                msg-sub-mstr
                pay-code-mstr
                r051-work-file
                client-mstr
                client-rma-claim-nbr
                client-doc-mstr
                company-mstr
                contacts-mstr
                contacts-info-mstr
**followup-events-mstr
*               (sequential file)
                corrected-pat.
    close    docash-mstr
                docashtp-mstr
                cheque-reg-mstr
                dept-mstr
                bank-mstr
                rejected-claims
                iconst-mstr
                diag-mstr
                msg-sub-mstr
                pay-code-mstr
                r051-work-file
                client-mstr
                client-rma-claim-nbr
                client-doc-mstr
                company-mstr
                contacts-mstr
                contacts-info-mstr
**f0llowup-events-mstr
*               (sequential file)
                corrected-pat.

    stop run.

* Micro Focus COBOL for UNIX         V4.0 revision 005 Compiler
* Copyright (C) 1984-1995 Micro Focus Ltd.     URN 2XUPG/GB0/00000F
*                                              REF GNB-030056000AA
*
* Total Messages:     0
* Data:       18812     Code:        4753
