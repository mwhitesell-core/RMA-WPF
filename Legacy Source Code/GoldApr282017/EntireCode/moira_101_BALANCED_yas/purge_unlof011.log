/alpha/rmabill/rmabill101/src
Thu Jan 17 12:58:23 EST 2013
 + + + Sourced in /alpha/rmabill/rmabill101/src + + +
;Compiling program [/alpha/rmabill/rmabill101/src/purge_unlof011.qts]
Q T P   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ; 2006/jun/08 - MC - delete f011 files
> ; 2013/jan/08 - MC - add more criteria for deletion
> 
> cancel clear
> set process nolimit
> set lock record update
> 
> request delete_f011 on calculation errors report on edit errors report
> access f011-pat-mstr-elig-history			&
> 	link key-pat-mstr 				&
> 	 to  key-pat-mstr of f010-pat-mstr optional
> 
> ; 2013/01/08 - MC1
> def cutoff-date date = parm prompt 'Enter Cutoff Date: (yyyymmdd): '
> 
> def del-flag char*1 = 'Y'			&
>     if (   record f010-pat-mstr exists		&
>         and pat-mess-code of f010-pat-mstr =  ' '  &
> ;        and pat-date-last-elig-maint of f010-pat-mstr <> 0	  &
> 	and pat-date-last-elig-maint of f010-pat-mstr  < cutoff-date &
> 	and pat-date-last-maint of f011-pat-mstr-elig-history  < cutoff-date &
> 	)					&
> 	else 'N'
> ; 2012/01/07 - end
> 
> subfile savef011_delete keep 			&
>     if not record f010-pat-mstr exists		&
> ; 2013/01/08 - MC1
>        or del-flag = 'Y'			&
> ; 2013/01/08 - end
> 	include f011-pat-mstr-elig-history
> 
> subfile savef011_retain keep 			&
>     if record f010-pat-mstr exists		&
> ; 2013/01/08 - MC1
>        and del-flag = 'N'			&
> ; 2013/01/08 - end
> 	include f011-pat-mstr-elig-history
> 
> 
> build $obj/purge_unlof011
0 ERRORS  0 WARNINGS.
The file /alpha/rmabill/rmabill101/obj/purge_unlof011.qtc already exists. Ok to 
delete?
> 
> 
> 
Thu Jan 17 12:58:26 EST 2013
