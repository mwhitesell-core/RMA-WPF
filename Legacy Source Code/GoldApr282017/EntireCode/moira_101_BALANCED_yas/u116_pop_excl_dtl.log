/alpha/rmabill/rmabill101/dvlp/moira
Tue Feb  9 11:35:11 EST 2016
 + + + Sourced in /alpha/rmabill/rmabill101/dvlp/moira + + +
;Compiling program [/alpha/rmabill/rmabill101/dvlp/moira/u116_pop_excl_dtl.qts]
Q T P   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ; 2016/Feb/08 - u116_pop_excl_dtl.qts
> ;	      - this program will be called from m116.qks when user activate the designer
> ;		procedure 'excl' to populate f116-dtl
> 
> cancel clear
> set process nolimit
> set lock record update
> 
> ; select all doctors that are excluded tithe in selected dept and group
> request one
> access f116-dept-expense-rules-hdr
> choose dept-expense-calc-code 'FLAT+3_TITHE_LEVELS',	&
>        dept-nbr parm prompt 'Enter dept: ' 1 time, 	&
>        doc-afp-paym-group parm prompt 'Enter group: ' 1 time
*W* Item (DEPT-NBR) is stored by the file system as a character type.
Choose viaindex DEPT-EXPENSE-CALC-CODE.
> 
> sel if tithe-in-ex-clude-flag = 'E'  and doc-nbr <> '000'
> 
> subfile temp1 keep include f116-dept-expense-rules-hdr
> 
> ; link to the general doctor '000' to populate corresponding detail for the excluded doctors
> request two
> access *temp1 					&
> 	link dept-expense-calc-code,		&
> 	     dept-nbr, doc-afp-paym-group,	&
> 	     '000'				&
> 	 to  dept-expense-calc-code,		&
> 	     dept-nbr, doc-afp-paym-group,	&
> 	     doc-nbr of f116-dept-expense-rules-dtl &
> 	link dept-expense-calc-code,		&
> 	     dept-nbr, doc-afp-paym-group,	&
> 	     doc-nbr of temp1			&
> 	 to  dept-expense-calc-code,		&
> 	     dept-nbr, doc-afp-paym-group,	&
> 	     doc-nbr of f116-dept-expense-rules-dtl alias f116-doc opt
> 
> output f116-dept-expense-rules-dtl alias f116-add add  &
> 		if not record f116-doc exist on errors report
> 	item doc-nbr final doc-nbr of temp1
>         item tithe-in-ex-clude-flag final 'E'
> 
> build $obj/u116_pop_excl_dtl
0 ERRORS  1 WARNINGS.
Item DEPT-EXPENSE-CALC-CODE OF F116-ADD initial DEPT-EXPENSE-CALC-CODE OF TEMP1.
Item DEPT-NBR OF F116-ADD initial DEPT-NBR OF TEMP1.
Item DOC-AFP-PAYM-GROUP OF F116-ADD initial DOC-AFP-PAYM-GROUP OF TEMP1.
Item COMP-CODE OF F116-ADD initial COMP-CODE OF F116-DEPT-EXPENSE-RULES-DTL.
Item DESC-LONG OF F116-ADD initial DESC-LONG OF F116-DEPT-EXPENSE-RULES-DTL.
Item DESC-SHORT OF F116-ADD initial DESC-SHORT OF F116-DEPT-EXPENSE-RULES-DTL.
Item FLAG-DISPLAY-HIDE OF F116-ADD initial FLAG-DISPLAY-HIDE OF 
F116-DEPT-EXPENSE-RULES-DTL.
Tue Feb  9 11:35:13 EST 2016
