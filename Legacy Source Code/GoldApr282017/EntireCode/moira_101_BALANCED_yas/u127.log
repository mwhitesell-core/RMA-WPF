/alpha/rmabill/rmabill101/dvlp/moira
Thu Sep 10 14:35:27 EDT 2015
 + + + Sourced in /alpha/rmabill/rmabill101/dvlp/moira + + +
;Compiling program [/alpha/rmabill/rmabill101/dvlp/moira/u127.qts]
Q T P   (7.33.E)
Copyright 1996 COGNOS INCORPORATED
Licensed PH-RUNTIME for customer: 5139390001 C.O.T.A UNIX

> ;#V PROGRAM-ID.     U127.QTS
> ;
> ;       ((C)) Dyad Technologies
> ;
> ;    PURPOSE: SUB-PROCESS WITHIN "EARNINGS GENERATION" PROCESS.
> ;             - Transfer F020-DOCTOR-MSTR and F119-DOCTOR-YTD to their
> ;		history files with current ep nbr
> ;
> ;    MODIFICATION HISTORY
> ;        DATE    SAF #  WHO      DESCRIPTION
> ;     95/NOV/17  ____   M.C.     - original
> ;  1999/Feb/18          S.B.     - Checked for Y2K.
> ;  2003/dec/24		A.A.	 - alpha doctor nbr
> ;  2006/mar/06		M.C.	 - change process limit to 20000
> ;  2006/jun/07		b.e.	 - change process limit to 30000
> ;  2015/Jan/07		MC1	 - add to select if rec-type <> 'B' ie exclude message records from f119
> ;  2015/Sep/10		MC2	 - exclude doc-nbr '000'  when transfer record to f119-history
> ;				 - add 'on errors report' when output f119-history
> 
> cancel clear
> set default
> ;set process limit 10000
> ;set process limit 20000
> set process limit 30000
> 
> run u127
> 
> request u127_run_0		        &
>         on edit        errors report    &
>         on calculation errors report
> 
> access f020-doctor-mstr                          &
>         link doc-nbr to doc-nbr of f020-doctor-extra opt	&
> 	link 6 to const-rec-nbr of constants-mstr-rec-6 opt	&
> 	link doc-nbr of f020-doctor-mstr,			&
> 	     current-ep-nbr					&
> 	 to  doc-nbr, ep-nbr of f020-doc-mstr-history opt
> 
> 
> 
> output f020-doc-mstr-history alias f020-add add      		&
>     if not record f020-doc-mstr-history exists
>    item ep-nbr final current-ep-nbr
> 
> 
> request u127_run_1		        &
Item DOC-NBR OF F020-ADD initial DOC-NBR OF F020-DOCTOR-MSTR.
Item DOC-BANK-NBR OF F020-ADD initial DOC-BANK-NBR OF F020-DOCTOR-MSTR.
Item DOC-BANK-BRANCH OF F020-ADD initial DOC-BANK-BRANCH OF F020-DOCTOR-MSTR.
Item DOC-BANK-ACCT OF F020-ADD initial DOC-BANK-ACCT OF F020-DOCTOR-MSTR.
Item DOC-YTDGUA OF F020-ADD initial DOC-YTDGUA OF F020-DOCTOR-MSTR.
Item DOC-YTDGUB OF F020-ADD initial DOC-YTDGUB OF F020-DOCTOR-MSTR.
Item DOC-YTDGUC OF F020-ADD initial DOC-YTDGUC OF F020-DOCTOR-MSTR.
Item DOC-YTDGUD OF F020-ADD initial DOC-YTDGUD OF F020-DOCTOR-MSTR.
Item DOC-YTDCEA OF F020-ADD initial DOC-YTDCEA OF F020-DOCTOR-MSTR.
Item DOC-YTDCEX OF F020-ADD initial DOC-YTDCEX OF F020-DOCTOR-MSTR.
Item DOC-YTDEAR OF F020-ADD initial DOC-YTDEAR OF F020-DOCTOR-MSTR.
Item DOC-YTDINC OF F020-ADD initial DOC-YTDINC OF F020-DOCTOR-MSTR.
Item DOC-YTDEFT OF F020-ADD initial DOC-YTDEFT OF F020-DOCTOR-MSTR.
Item DOC-TOTINC-G OF F020-ADD initial DOC-TOTINC-G OF F020-DOCTOR-MSTR.
Item DOC-EP-DATE-DEPOSIT OF F020-ADD initial DOC-EP-DATE-DEPOSIT OF 
F020-DOCTOR-MSTR.
Item DOC-TOTINC OF F020-ADD initial DOC-TOTINC OF F020-DOCTOR-MSTR.
Item DOC-EP-CEIEXP OF F020-ADD initial DOC-EP-CEIEXP OF F020-DOCTOR-MSTR.
Item DOC-ADJCEA OF F020-ADD initial DOC-ADJCEA OF F020-DOCTOR-MSTR.
Item DOC-ADJCEX OF F020-ADD initial DOC-ADJCEX OF F020-DOCTOR-MSTR.
Item DOC-CEICEA OF F020-ADD initial DOC-CEICEA OF F020-DOCTOR-MSTR.
Item DOC-CEICEX OF F020-ADD initial DOC-CEICEX OF F020-DOCTOR-MSTR.
Item CEICEA-PRT-FORMAT OF F020-ADD initial CEICEA-PRT-FORMAT OF 
F020-DOCTOR-MSTR.
Item CEICEX-PRT-FORMAT OF F020-ADD initial CEICEX-PRT-FORMAT OF 
F020-DOCTOR-MSTR.
Item YTDCEA-PRT-FORMAT OF F020-ADD initial YTDCEA-PRT-FORMAT OF 
F020-DOCTOR-MSTR.
Item YTDCEX-PRT-FORMAT OF F020-ADD initial YTDCEX-PRT-FORMAT OF 
F020-DOCTOR-MSTR.
Item DOC-YTDINC-G OF F020-ADD initial DOC-YTDINC-G OF F020-DOCTOR-MSTR.
Item DOC-RMA-EXPENSE-PERCENT-MISC OF F020-ADD initial 
DOC-RMA-EXPENSE-PERCENT-MISC OF F020-DOCTOR-MSTR.
Item DOC-RMA-EXPENSE-PERCENT-REG OF F020-ADD initial 
DOC-RMA-EXPENSE-PERCENT-REG OF F020-DOCTOR-MSTR.
Item DOC-YRLY-CEILING-COMPUTED OF F020-ADD initial DOC-YRLY-CEILING-COMPUTED OF 
F020-DOCTOR-MSTR.
Item DOC-YRLY-EXPENSE-COMPUTED OF F020-ADD initial DOC-YRLY-EXPENSE-COMPUTED OF 
F020-DOCTOR-MSTR.
Item DOC-PAYEFT OF F020-ADD initial DOC-PAYEFT OF F020-DOCTOR-MSTR.
Item DOC-YTDDED OF F020-ADD initial DOC-YTDDED OF F020-DOCTOR-MSTR.
Item DOC-DEPT-EXPENSE-PERCENT-MISC OF F020-ADD initial 
DOC-DEPT-EXPENSE-PERCENT-MISC OF F020-DOCTOR-MSTR.
Item DOC-DEPT-EXPENSE-PERCENT-REG OF F020-ADD initial 
DOC-DEPT-EXPENSE-PERCENT-REG OF F020-DOCTOR-MSTR.
Item DOC-EP-PED OF F020-ADD initial DOC-EP-PED OF F020-DOCTOR-MSTR.
Item DOC-EP-PAY-CODE OF F020-ADD initial DOC-EP-PAY-CODE OF F020-DOCTOR-MSTR.
Item DOC-EP-PAY-SUB-CODE OF F020-ADD initial DOC-EP-PAY-SUB-CODE OF 
F020-DOCTOR-MSTR.
Item DOC-YRLY-REQUIRE-REVENUE OF F020-ADD initial DOC-YRLY-REQUIRE-REVENUE OF 
F020-DOCTOR-EXTRA.
Item DOC-YRLY-TARGET-REVENUE OF F020-ADD initial DOC-YRLY-TARGET-REVENUE OF 
F020-DOCTOR-EXTRA.
Item DOC-CEIREQ OF F020-ADD initial DOC-CEIREQ OF F020-DOCTOR-EXTRA.
Item DOC-YTDREQ OF F020-ADD initial DOC-YTDREQ OF F020-DOCTOR-EXTRA.
Item DOC-CEITAR OF F020-ADD initial DOC-CEITAR OF F020-DOCTOR-EXTRA.
Item DOC-YTDTAR OF F020-ADD initial DOC-YTDTAR OF F020-DOCTOR-EXTRA.
Item CEIREQ-PRT-FORMAT OF F020-ADD initial CEIREQ-PRT-FORMAT OF 
F020-DOCTOR-EXTRA.
Item YTDREQ-PRT-FORMAT OF F020-ADD initial YTDREQ-PRT-FORMAT OF 
F020-DOCTOR-EXTRA.
Item CEITAR-PRT-FORMAT OF F020-ADD initial CEITAR-PRT-FORMAT OF 
F020-DOCTOR-EXTRA.
Item YTDTAR-PRT-FORMAT OF F020-ADD initial YTDTAR-PRT-FORMAT OF 
F020-DOCTOR-EXTRA.
>         on edit        errors report    &
>         on calculation errors report
> 
> access f119-doctor-ytd			&
> 	link 6 to const-rec-nbr of constants-mstr-rec-6
> 
> ; MC1
> ; MC2 - exclude doc-nbr '000' as well
> ;sel if rec-type <> 'B'
> sel if rec-type <> 'B' and doc-nbr <> '000'
> ; MC2 - end
> ; MC1 - end
> 
> ; MC2
> ;output f119-doctor-ytd-history          add
> output f119-doctor-ytd-history          add on errors report
> ; MC2 - end
>   item ep-nbr          = current-ep-nbr
>   item doc-nbr         = doc-nbr          of f119-doctor-ytd
>   item comp-code       = comp-code        of f119-doctor-ytd
>   item process-seq     = process-seq      of f119-doctor-ytd
>   item comp-code-group = comp-code-group  of f119-doctor-ytd
>   item rec-type        = rec-type         of f119-doctor-ytd
>   item amt-mtd         = amt-mtd	  of f119-doctor-ytd
>   item amt-ytd         = amt-ytd	  of f119-doctor-ytd
> 
> 
> build $pb_obj/u127
0 ERRORS  0 WARNINGS.
> 
Thu Sep 10 14:35:30 EDT 2015
